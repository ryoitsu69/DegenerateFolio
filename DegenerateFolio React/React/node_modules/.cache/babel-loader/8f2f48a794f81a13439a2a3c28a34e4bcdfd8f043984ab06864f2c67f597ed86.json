{"ast":null,"code":"import { BigInt } from '@polkadot/x-bigint';\nimport { _0n, _1n, _2pow53n, _sqrt2pow53n } from './consts.js';\nimport { nToBigInt } from './toBigInt.js';\n/**\n * @name nSqrt\n * @summary Calculates the integer square root of a bigint\n */\nexport function nSqrt(value) {\n  const n = nToBigInt(value);\n  if (n < _0n) {\n    throw new Error('square root of negative numbers is not supported');\n  }\n  // https://stackoverflow.com/questions/53683995/javascript-big-integer-square-root/\n  // shortcut <= 2^53 - 1 to use the JS utils\n  if (n <= _2pow53n) {\n    // ~~ is more performant that Math.floor\n    return BigInt(~~Math.sqrt(Number(n)));\n  }\n  // Use sqrt(MAX_SAFE_INTEGER) as starting point. since we already know the\n  // output will be larger than this, we expect this to be a safe start\n  let x0 = _sqrt2pow53n;\n  while (true) {\n    const x1 = n / x0 + x0 >> _1n;\n    if (x0 === x1 || x0 === x1 - _1n) {\n      return x0;\n    }\n    x0 = x1;\n  }\n}","map":{"version":3,"names":["BigInt","_0n","_1n","_2pow53n","_sqrt2pow53n","nToBigInt","nSqrt","value","n","Error","Math","sqrt","Number","x0","x1"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/util/bi/sqrt.js"],"sourcesContent":["import { BigInt } from '@polkadot/x-bigint';\nimport { _0n, _1n, _2pow53n, _sqrt2pow53n } from './consts.js';\nimport { nToBigInt } from './toBigInt.js';\n/**\n * @name nSqrt\n * @summary Calculates the integer square root of a bigint\n */\nexport function nSqrt(value) {\n    const n = nToBigInt(value);\n    if (n < _0n) {\n        throw new Error('square root of negative numbers is not supported');\n    }\n    // https://stackoverflow.com/questions/53683995/javascript-big-integer-square-root/\n    // shortcut <= 2^53 - 1 to use the JS utils\n    if (n <= _2pow53n) {\n        // ~~ is more performant that Math.floor\n        return BigInt(~~Math.sqrt(Number(n)));\n    }\n    // Use sqrt(MAX_SAFE_INTEGER) as starting point. since we already know the\n    // output will be larger than this, we expect this to be a safe start\n    let x0 = _sqrt2pow53n;\n    while (true) {\n        const x1 = ((n / x0) + x0) >> _1n;\n        if (x0 === x1 || (x0 === (x1 - _1n))) {\n            return x0;\n        }\n        x0 = x1;\n    }\n}\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,oBAAoB;AAC3C,SAASC,GAAG,EAAEC,GAAG,EAAEC,QAAQ,EAAEC,YAAY,QAAQ,aAAa;AAC9D,SAASC,SAAS,QAAQ,eAAe;AACzC;AACA;AACA;AACA;AACA,OAAO,SAASC,KAAKA,CAACC,KAAK,EAAE;EACzB,MAAMC,CAAC,GAAGH,SAAS,CAACE,KAAK,CAAC;EAC1B,IAAIC,CAAC,GAAGP,GAAG,EAAE;IACT,MAAM,IAAIQ,KAAK,CAAC,kDAAkD,CAAC;EACvE;EACA;EACA;EACA,IAAID,CAAC,IAAIL,QAAQ,EAAE;IACf;IACA,OAAOH,MAAM,CAAC,CAAC,CAACU,IAAI,CAACC,IAAI,CAACC,MAAM,CAACJ,CAAC,CAAC,CAAC,CAAC;EACzC;EACA;EACA;EACA,IAAIK,EAAE,GAAGT,YAAY;EACrB,OAAO,IAAI,EAAE;IACT,MAAMU,EAAE,GAAKN,CAAC,GAAGK,EAAE,GAAIA,EAAE,IAAKX,GAAG;IACjC,IAAIW,EAAE,KAAKC,EAAE,IAAKD,EAAE,KAAMC,EAAE,GAAGZ,GAAK,EAAE;MAClC,OAAOW,EAAE;IACb;IACAA,EAAE,GAAGC,EAAE;EACX;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}