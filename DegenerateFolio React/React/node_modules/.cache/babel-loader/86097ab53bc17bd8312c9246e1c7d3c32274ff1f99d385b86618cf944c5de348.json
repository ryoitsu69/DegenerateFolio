{"ast":null,"code":"import { CanvasPool } from '../../../rendering/renderers/shared/texture/CanvasPool.mjs';\n\"use strict\";\nfunction getTemporaryCanvasFromImage(image, resolution) {\n  const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(image.width, image.height, resolution);\n  const {\n    context\n  } = canvasAndContext;\n  context.clearRect(0, 0, image.width, image.height);\n  context.drawImage(image, 0, 0);\n  CanvasPool.returnCanvasAndContext(canvasAndContext);\n  return canvasAndContext.canvas;\n}\nexport { getTemporaryCanvasFromImage };","map":{"version":3,"names":["getTemporaryCanvasFromImage","image","resolution","canvasAndContext","CanvasPool","getOptimalCanvasAndContext","width","height","context","clearRect","drawImage","returnCanvasAndContext","canvas"],"sources":["/home/ryoitsu/node_modules/pixi.js/src/scene/text-html/utils/getTemporaryCanvasFromImage.ts"],"sourcesContent":["import { CanvasPool } from '../../../rendering/renderers/shared/texture/CanvasPool';\n\n/**\n * This function converts an image to a canvas, and returns the canvas.\n * It is used to convert images to canvases to work around a CORS issue where WebGPU cannot\n * upload an SVGImage to a texture.\n *\n * It uses the CanvasPool to get an optimal canvas and context, and then draws the image onto it.\n * This canvas is immediately returned to the CanvasPool for reuse, so use the result straight away!\n * (eg upload it to the GPU!)\n * @param image - The image to convert to a canvas.\n * @param resolution - The resolution of the canvas.\n */\nexport function getTemporaryCanvasFromImage(image: HTMLImageElement, resolution: number): HTMLCanvasElement\n{\n    // Get an optimal canvas and context from the CanvasPool, based on the\n    // dimensions of the image and the desired resolution.\n    const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(\n        image.width,\n        image.height,\n        resolution\n    );\n\n    // Clear the context of the canvas, and draw the image onto it.\n    const { context } = canvasAndContext;\n\n    context.clearRect(0, 0, image.width, image.height);\n    context.drawImage(image, 0, 0);\n\n    // Return the canvas and context to the CanvasPool.\n    CanvasPool.returnCanvasAndContext(canvasAndContext);\n\n    // Return the canvas.\n    return canvasAndContext.canvas as HTMLCanvasElement;\n}\n\n"],"mappings":";;AAagB,SAAAA,4BAA4BC,KAAA,EAAyBC,UACrE;EAGI,MAAMC,gBAAA,GAAmBC,UAAW,CAAAC,0BAAA,CAChCJ,KAAM,CAAAK,KAAA,EACNL,KAAM,CAAAM,MAAA,EACNL,UAAA,CACJ;EAGM;IAAEM;EAAA,CAAY,GAAAL,gBAAA;EAEpBK,OAAA,CAAQC,SAAA,CAAU,CAAG,KAAGR,KAAM,CAAAK,KAAA,EAAOL,KAAA,CAAMM,MAAM;EACzCC,OAAA,CAAAE,SAAA,CAAUT,KAAO,KAAG,CAAC;EAG7BG,UAAA,CAAWO,sBAAA,CAAuBR,gBAAgB;EAGlD,OAAOA,gBAAiB,CAAAS,MAAA;AAC5B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}