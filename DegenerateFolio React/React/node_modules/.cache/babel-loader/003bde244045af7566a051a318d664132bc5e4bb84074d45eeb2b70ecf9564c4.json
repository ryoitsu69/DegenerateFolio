{"ast":null,"code":"import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Container } from '../../../scene/container/Container.mjs';\nimport { addMaskBounds } from '../utils/addMaskBounds.mjs';\nimport { addMaskLocalBounds } from '../utils/addMaskLocalBounds.mjs';\n\"use strict\";\nclass StencilMask {\n  constructor(options) {\n    this.priority = 0;\n    this.pipe = \"stencilMask\";\n    if (options?.mask) {\n      this.init(options.mask);\n    }\n  }\n  init(mask) {\n    this.mask = mask;\n    this.mask.includeInBuild = false;\n    this.mask.measurable = false;\n  }\n  reset() {\n    this.mask.measurable = true;\n    this.mask.includeInBuild = true;\n    this.mask = null;\n  }\n  addBounds(bounds, skipUpdateTransform) {\n    addMaskBounds(this.mask, bounds, skipUpdateTransform);\n  }\n  addLocalBounds(bounds, localRoot) {\n    addMaskLocalBounds(this.mask, bounds, localRoot);\n  }\n  containsPoint(point, hitTestFn) {\n    const mask = this.mask;\n    return hitTestFn(mask, point);\n  }\n  destroy() {\n    this.reset();\n  }\n  static test(mask) {\n    return mask instanceof Container;\n  }\n}\nStencilMask.extension = ExtensionType.MaskEffect;\nexport { StencilMask };","map":{"version":3,"names":["StencilMask","constructor","options","priority","pipe","mask","init","includeInBuild","measurable","reset","addBounds","bounds","skipUpdateTransform","addMaskBounds","addLocalBounds","localRoot","addMaskLocalBounds","containsPoint","point","hitTestFn","destroy","test","Container","extension","ExtensionType","MaskEffect"],"sources":["/home/ryoitsu/node_modules/pixi.js/src/rendering/mask/stencil/StencilMask.ts"],"sourcesContent":["import { ExtensionType } from '../../../extensions/Extensions';\nimport { Container } from '../../../scene/container/Container';\nimport { addMaskBounds } from '../utils/addMaskBounds';\nimport { addMaskLocalBounds } from '../utils/addMaskLocalBounds';\n\nimport type { ExtensionMetadata } from '../../../extensions/Extensions';\nimport type { Point } from '../../../maths/point/Point';\nimport type { Bounds } from '../../../scene/container/bounds/Bounds';\nimport type { Effect } from '../../../scene/container/Effect';\nimport type { PoolItem } from '../../../utils/pool/Pool';\n\nexport class StencilMask implements Effect, PoolItem\n{\n    public static extension: ExtensionMetadata = ExtensionType.MaskEffect;\n\n    public priority = 0;\n    public mask: Container;\n    public pipe = 'stencilMask';\n\n    constructor(options: {mask: Container})\n    {\n        if (options?.mask)\n        {\n            this.init(options.mask);\n        }\n    }\n\n    public init(mask: Container): void\n    {\n        this.mask = mask;\n        this.mask.includeInBuild = false;\n        this.mask.measurable = false;\n    }\n\n    public reset()\n    {\n        this.mask.measurable = true;\n        this.mask.includeInBuild = true;\n        this.mask = null;\n    }\n\n    public addBounds(bounds: Bounds, skipUpdateTransform: boolean): void\n    {\n        addMaskBounds(this.mask, bounds, skipUpdateTransform);\n    }\n\n    public addLocalBounds(bounds: Bounds, localRoot: Container): void\n    {\n        addMaskLocalBounds(this.mask, bounds, localRoot);\n    }\n\n    public containsPoint(point: Point, hitTestFn: (container: Container, point: Point) => boolean): boolean\n    {\n        const mask = this.mask as any;\n\n        // if the point is in the mask, yay!\n        return hitTestFn(mask, point);\n    }\n\n    public destroy(): void\n    {\n        this.reset();\n    }\n\n    public static test(mask: any): boolean\n    {\n        return mask instanceof Container;\n    }\n}\n"],"mappings":";;;;;AAWO,MAAMA,WACb;EAOIC,YAAYC,OACZ;IALA,KAAOC,QAAW;IAElB,KAAOC,IAAO;IAIV,IAAIF,OAAA,EAASG,IACb;MACS,KAAAC,IAAA,CAAKJ,OAAA,CAAQG,IAAI;IAAA;EAC1B;EAGGC,KAAKD,IACZ;IACI,KAAKA,IAAO,GAAAA,IAAA;IACZ,KAAKA,IAAA,CAAKE,cAAiB;IAC3B,KAAKF,IAAA,CAAKG,UAAa;EAAA;EAGpBC,KACPA,CAAA;IACI,KAAKJ,IAAA,CAAKG,UAAa;IACvB,KAAKH,IAAA,CAAKE,cAAiB;IAC3B,KAAKF,IAAO;EAAA;EAGTK,UAAUC,MAAA,EAAgBC,mBACjC;IACkBC,aAAA,MAAKR,IAAM,EAAAM,MAAA,EAAQC,mBAAmB;EAAA;EAGjDE,eAAeH,MAAA,EAAgBI,SACtC;IACuBC,kBAAA,MAAKX,IAAM,EAAAM,MAAA,EAAQI,SAAS;EAAA;EAG5CE,cAAcC,KAAA,EAAcC,SACnC;IACI,MAAMd,IAAA,GAAO,IAAK,CAAAA,IAAA;IAGX,OAAAc,SAAA,CAAUd,IAAA,EAAMa,KAAK;EAAA;EAGzBE,OACPA,CAAA;IACI,KAAKX,KAAM;EAAA;EAGf,OAAcY,KAAKhB,IACnB;IACI,OAAOA,IAAgB,YAAAiB,SAAA;EAAA;AAE/B;AAzDatB,WAAA,CAEKuB,SAAA,GAA+BC,aAAc,CAAAC,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}