{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toRfc3339 = exports.fromRfc3339 = void 0;\nconst rfc3339Matcher = /^(\\d{4})-(\\d{2})-(\\d{2})[T ](\\d{2}):(\\d{2}):(\\d{2})(\\.\\d{1,9})?((?:[+-]\\d{2}:\\d{2})|Z)$/;\nfunction padded(integer, length = 2) {\n  return integer.toString().padStart(length, \"0\");\n}\nfunction fromRfc3339(str) {\n  const matches = rfc3339Matcher.exec(str);\n  if (!matches) {\n    throw new Error(\"Date string is not in RFC3339 format\");\n  }\n  const year = +matches[1];\n  const month = +matches[2];\n  const day = +matches[3];\n  const hour = +matches[4];\n  const minute = +matches[5];\n  const second = +matches[6];\n  // fractional seconds match either undefined or a string like \".1\", \".123456789\"\n  const milliSeconds = matches[7] ? Math.floor(+matches[7] * 1000) : 0;\n  let tzOffsetSign;\n  let tzOffsetHours;\n  let tzOffsetMinutes;\n  // if timezone is undefined, it must be Z or nothing (otherwise the group would have captured).\n  if (matches[8] === \"Z\") {\n    tzOffsetSign = 1;\n    tzOffsetHours = 0;\n    tzOffsetMinutes = 0;\n  } else {\n    tzOffsetSign = matches[8].substring(0, 1) === \"-\" ? -1 : 1;\n    tzOffsetHours = +matches[8].substring(1, 3);\n    tzOffsetMinutes = +matches[8].substring(4, 6);\n  }\n  const tzOffset = tzOffsetSign * (tzOffsetHours * 60 + tzOffsetMinutes) * 60; // seconds\n  const date = new Date();\n  date.setUTCFullYear(year, month - 1, day);\n  date.setUTCHours(hour, minute, second, milliSeconds);\n  return new Date(date.getTime() - tzOffset * 1000);\n}\nexports.fromRfc3339 = fromRfc3339;\nfunction toRfc3339(date) {\n  const year = date.getUTCFullYear();\n  const month = padded(date.getUTCMonth() + 1);\n  const day = padded(date.getUTCDate());\n  const hour = padded(date.getUTCHours());\n  const minute = padded(date.getUTCMinutes());\n  const second = padded(date.getUTCSeconds());\n  const ms = padded(date.getUTCMilliseconds(), 3);\n  return `${year}-${month}-${day}T${hour}:${minute}:${second}.${ms}Z`;\n}\nexports.toRfc3339 = toRfc3339;","map":{"version":3,"names":["rfc3339Matcher","padded","integer","length","toString","padStart","fromRfc3339","str","matches","exec","Error","year","month","day","hour","minute","second","milliSeconds","Math","floor","tzOffsetSign","tzOffsetHours","tzOffsetMinutes","substring","tzOffset","date","Date","setUTCFullYear","setUTCHours","getTime","exports","toRfc3339","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","ms","getUTCMilliseconds"],"sources":["../src/rfc3339.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}