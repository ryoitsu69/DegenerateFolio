{"ast":null,"code":"import { combineLatest, map, switchMap } from 'rxjs';\nimport { memo } from '../util/index.js';\nconst DEFAULT_FLAGS = {\n  withController: true,\n  withPrefs: true\n};\nexport function waitingInfo(instanceId, api) {\n  return memo(instanceId, function () {\n    let flags = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_FLAGS;\n    return combineLatest([api.derive.staking.validators(), api.derive.staking.stashes()]).pipe(switchMap(_ref => {\n      let [{\n        nextElected\n      }, stashes] = _ref;\n      const elected = nextElected.map(a => a.toString());\n      const waiting = stashes.filter(v => !elected.includes(v.toString()));\n      return api.derive.staking.queryMulti(waiting, flags).pipe(map(info => ({\n        info,\n        waiting\n      })));\n    }));\n  });\n}","map":{"version":3,"names":["combineLatest","map","switchMap","memo","DEFAULT_FLAGS","withController","withPrefs","waitingInfo","instanceId","api","flags","arguments","length","undefined","derive","staking","validators","stashes","pipe","_ref","nextElected","elected","a","toString","waiting","filter","v","includes","queryMulti","info"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/staking/waitingInfo.js"],"sourcesContent":["import { combineLatest, map, switchMap } from 'rxjs';\nimport { memo } from '../util/index.js';\nconst DEFAULT_FLAGS = { withController: true, withPrefs: true };\nexport function waitingInfo(instanceId, api) {\n    return memo(instanceId, (flags = DEFAULT_FLAGS) => combineLatest([\n        api.derive.staking.validators(),\n        api.derive.staking.stashes()\n    ]).pipe(switchMap(([{ nextElected }, stashes]) => {\n        const elected = nextElected.map((a) => a.toString());\n        const waiting = stashes.filter((v) => !elected.includes(v.toString()));\n        return api.derive.staking.queryMulti(waiting, flags).pipe(map((info) => ({\n            info,\n            waiting\n        })));\n    })));\n}\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,GAAG,EAAEC,SAAS,QAAQ,MAAM;AACpD,SAASC,IAAI,QAAQ,kBAAkB;AACvC,MAAMC,aAAa,GAAG;EAAEC,cAAc,EAAE,IAAI;EAAEC,SAAS,EAAE;AAAK,CAAC;AAC/D,OAAO,SAASC,WAAWA,CAACC,UAAU,EAAEC,GAAG,EAAE;EACzC,OAAON,IAAI,CAACK,UAAU,EAAE;IAAA,IAACE,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGP,aAAa;IAAA,OAAKJ,aAAa,CAAC,CAC7DS,GAAG,CAACK,MAAM,CAACC,OAAO,CAACC,UAAU,CAAC,CAAC,EAC/BP,GAAG,CAACK,MAAM,CAACC,OAAO,CAACE,OAAO,CAAC,CAAC,CAC/B,CAAC,CAACC,IAAI,CAAChB,SAAS,CAACiB,IAAA,IAAgC;MAAA,IAA/B,CAAC;QAAEC;MAAY,CAAC,EAAEH,OAAO,CAAC,GAAAE,IAAA;MACzC,MAAME,OAAO,GAAGD,WAAW,CAACnB,GAAG,CAAEqB,CAAC,IAAKA,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAC;MACpD,MAAMC,OAAO,GAAGP,OAAO,CAACQ,MAAM,CAAEC,CAAC,IAAK,CAACL,OAAO,CAACM,QAAQ,CAACD,CAAC,CAACH,QAAQ,CAAC,CAAC,CAAC,CAAC;MACtE,OAAOd,GAAG,CAACK,MAAM,CAACC,OAAO,CAACa,UAAU,CAACJ,OAAO,EAAEd,KAAK,CAAC,CAACQ,IAAI,CAACjB,GAAG,CAAE4B,IAAI,KAAM;QACrEA,IAAI;QACJL;MACJ,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAC,CAAC;EAAA,EAAC;AACR","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}