{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HttpClient = void 0;\nconst json_rpc_1 = require(\"@cosmjs/json-rpc\");\nconst http_1 = require(\"./http\");\nconst rpcclient_1 = require(\"./rpcclient\");\nclass HttpClient {\n  constructor(endpoint) {\n    if (typeof endpoint === \"string\") {\n      if (!(0, rpcclient_1.hasProtocol)(endpoint)) {\n        throw new Error(\"Endpoint URL is missing a protocol. Expected 'https://' or 'http://'.\");\n      }\n      this.url = endpoint;\n    } else {\n      this.url = endpoint.url;\n      this.headers = endpoint.headers;\n    }\n  }\n  disconnect() {\n    // nothing to be done\n  }\n  async execute(request) {\n    const response = (0, json_rpc_1.parseJsonRpcResponse)(await (0, http_1.http)(\"POST\", this.url, this.headers, request));\n    if ((0, json_rpc_1.isJsonRpcErrorResponse)(response)) {\n      throw new Error(JSON.stringify(response.error));\n    }\n    return response;\n  }\n}\nexports.HttpClient = HttpClient;","map":{"version":3,"names":["json_rpc_1","require","http_1","rpcclient_1","HttpClient","constructor","endpoint","hasProtocol","Error","url","headers","disconnect","execute","request","response","parseJsonRpcResponse","http","isJsonRpcErrorResponse","JSON","stringify","error","exports"],"sources":["../../src/rpcclients/httpclient.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,MAAAA,UAAA,GAAAC,OAAA;AAOA,MAAAC,MAAA,GAAAD,OAAA;AACA,MAAAE,WAAA,GAAAF,OAAA;AAgBA,MAAaG,UAAU;EAIrBC,YAAmBC,QAA+B;IAChD,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE;MAChC,IAAI,CAAC,IAAAH,WAAA,CAAAI,WAAW,EAACD,QAAQ,CAAC,EAAE;QAC1B,MAAM,IAAIE,KAAK,CAAC,uEAAuE,CAAC;;MAE1F,IAAI,CAACC,GAAG,GAAGH,QAAQ;KACpB,MAAM;MACL,IAAI,CAACG,GAAG,GAAGH,QAAQ,CAACG,GAAG;MACvB,IAAI,CAACC,OAAO,GAAGJ,QAAQ,CAACI,OAAO;;EAEnC;EAEOC,UAAUA,CAAA;IACf;EAAA;EAGK,MAAMC,OAAOA,CAACC,OAAuB;IAC1C,MAAMC,QAAQ,GAAG,IAAAd,UAAA,CAAAe,oBAAoB,EAAC,MAAM,IAAAb,MAAA,CAAAc,IAAI,EAAC,MAAM,EAAE,IAAI,CAACP,GAAG,EAAE,IAAI,CAACC,OAAO,EAAEG,OAAO,CAAC,CAAC;IAC1F,IAAI,IAAAb,UAAA,CAAAiB,sBAAsB,EAACH,QAAQ,CAAC,EAAE;MACpC,MAAM,IAAIN,KAAK,CAACU,IAAI,CAACC,SAAS,CAACL,QAAQ,CAACM,KAAK,CAAC,CAAC;;IAEjD,OAAON,QAAQ;EACjB;;AA1BFO,OAAA,CAAAjB,UAAA,GAAAA,UAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}