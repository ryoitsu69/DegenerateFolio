{"ast":null,"code":"\"use strict\";\n\nconst gpuUploadImageResource = {\n  type: \"image\",\n  upload(source, gpuTexture, gpu) {\n    const resource = source.resource;\n    if (!resource) return;\n    const width = Math.min(gpuTexture.width, source.resourceWidth || source.pixelWidth);\n    const height = Math.min(gpuTexture.height, source.resourceHeight || source.pixelHeight);\n    const premultipliedAlpha = source.alphaMode === \"premultiply-alpha-on-upload\";\n    gpu.device.queue.copyExternalImageToTexture({\n      source: resource\n    }, {\n      texture: gpuTexture,\n      premultipliedAlpha\n    }, {\n      width,\n      height\n    });\n  }\n};\nexport { gpuUploadImageResource };","map":{"version":3,"names":["gpuUploadImageResource","type","upload","source","gpuTexture","gpu","resource","width","Math","min","resourceWidth","pixelWidth","height","resourceHeight","pixelHeight","premultipliedAlpha","alphaMode","device","queue","copyExternalImageToTexture","texture"],"sources":["/home/ryoitsu/node_modules/pixi.js/src/rendering/renderers/gpu/texture/uploaders/gpuUploadImageSource.ts"],"sourcesContent":["import type { TextureSource } from '../../../shared/texture/sources/TextureSource';\nimport type { GPU } from '../../GpuDeviceSystem';\nimport type { GpuTextureUploader } from './GpuTextureUploader';\n\nexport const gpuUploadImageResource = {\n\n    type: 'image',\n\n    upload(source: TextureSource, gpuTexture: GPUTexture, gpu: GPU)\n    {\n        const resource = source.resource as ImageBitmap | HTMLCanvasElement | OffscreenCanvas;\n\n        if (!resource) return;\n\n        const width = Math.min(gpuTexture.width, source.resourceWidth || source.pixelWidth);\n        const height = Math.min(gpuTexture.height, source.resourceHeight || source.pixelHeight);\n\n        const premultipliedAlpha = source.alphaMode === 'premultiply-alpha-on-upload';\n\n        gpu.device.queue.copyExternalImageToTexture(\n            { source: resource },\n            { texture: gpuTexture, premultipliedAlpha },\n            {\n                width,\n                height,\n            }\n        );\n    }\n} as GpuTextureUploader<TextureSource>;\n\n"],"mappings":";;AAIO,MAAMA,sBAAyB;EAElCC,IAAM;EAENC,OAAOC,MAAuB,EAAAC,UAAA,EAAwBC,GACtD;IACI,MAAMC,QAAA,GAAWH,MAAO,CAAAG,QAAA;IAExB,IAAI,CAACA,QAAA,EAAU;IAET,MAAAC,KAAA,GAAQC,IAAA,CAAKC,GAAI,CAAAL,UAAA,CAAWG,KAAA,EAAOJ,MAAO,CAAAO,aAAA,IAAiBP,MAAA,CAAOQ,UAAU;IAC5E,MAAAC,MAAA,GAASJ,IAAA,CAAKC,GAAI,CAAAL,UAAA,CAAWQ,MAAA,EAAQT,MAAO,CAAAU,cAAA,IAAkBV,MAAA,CAAOW,WAAW;IAEhF,MAAAC,kBAAA,GAAqBZ,MAAA,CAAOa,SAAc;IAEhDX,GAAA,CAAIY,MAAA,CAAOC,KAAM,CAAAC,0BAAA,CACb;MAAEhB,MAAA,EAAQG;IAAS,GACnB;MAAEc,OAAS,EAAAhB,UAAA;MAAYW;IAAmB,GAC1C;MACIR,KAAA;MACAK;IAAA,CACJ,CACJ;EAAA;AAER","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}