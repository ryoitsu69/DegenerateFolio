{"ast":null,"code":"import { u8aConcat } from '@polkadot/util';\nimport { naclEncrypt } from '../nacl/index.js';\nimport { scryptEncode, scryptToU8a } from '../scrypt/index.js';\nimport { jsonEncryptFormat } from './encryptFormat.js';\nexport function jsonEncrypt(data, contentType, passphrase) {\n  let isEncrypted = false;\n  let encoded = data;\n  if (passphrase) {\n    const {\n      params,\n      password,\n      salt\n    } = scryptEncode(passphrase);\n    const {\n      encrypted,\n      nonce\n    } = naclEncrypt(encoded, password.subarray(0, 32));\n    isEncrypted = true;\n    encoded = u8aConcat(scryptToU8a(salt, params), nonce, encrypted);\n  }\n  return jsonEncryptFormat(encoded, contentType, isEncrypted);\n}","map":{"version":3,"names":["u8aConcat","naclEncrypt","scryptEncode","scryptToU8a","jsonEncryptFormat","jsonEncrypt","data","contentType","passphrase","isEncrypted","encoded","params","password","salt","encrypted","nonce","subarray"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/util-crypto/json/encrypt.js"],"sourcesContent":["import { u8aConcat } from '@polkadot/util';\nimport { naclEncrypt } from '../nacl/index.js';\nimport { scryptEncode, scryptToU8a } from '../scrypt/index.js';\nimport { jsonEncryptFormat } from './encryptFormat.js';\nexport function jsonEncrypt(data, contentType, passphrase) {\n    let isEncrypted = false;\n    let encoded = data;\n    if (passphrase) {\n        const { params, password, salt } = scryptEncode(passphrase);\n        const { encrypted, nonce } = naclEncrypt(encoded, password.subarray(0, 32));\n        isEncrypted = true;\n        encoded = u8aConcat(scryptToU8a(salt, params), nonce, encrypted);\n    }\n    return jsonEncryptFormat(encoded, contentType, isEncrypted);\n}\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,gBAAgB;AAC1C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,YAAY,EAAEC,WAAW,QAAQ,oBAAoB;AAC9D,SAASC,iBAAiB,QAAQ,oBAAoB;AACtD,OAAO,SAASC,WAAWA,CAACC,IAAI,EAAEC,WAAW,EAAEC,UAAU,EAAE;EACvD,IAAIC,WAAW,GAAG,KAAK;EACvB,IAAIC,OAAO,GAAGJ,IAAI;EAClB,IAAIE,UAAU,EAAE;IACZ,MAAM;MAAEG,MAAM;MAAEC,QAAQ;MAAEC;IAAK,CAAC,GAAGX,YAAY,CAACM,UAAU,CAAC;IAC3D,MAAM;MAAEM,SAAS;MAAEC;IAAM,CAAC,GAAGd,WAAW,CAACS,OAAO,EAAEE,QAAQ,CAACI,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IAC3EP,WAAW,GAAG,IAAI;IAClBC,OAAO,GAAGV,SAAS,CAACG,WAAW,CAACU,IAAI,EAAEF,MAAM,CAAC,EAAEI,KAAK,EAAED,SAAS,CAAC;EACpE;EACA,OAAOV,iBAAiB,CAACM,OAAO,EAAEH,WAAW,EAAEE,WAAW,CAAC;AAC/D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}