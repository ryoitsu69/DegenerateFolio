{"ast":null,"code":"import { MSAA_QUALITY } from \"@pixi/constants\";\nimport { ExtensionType, extensions } from \"@pixi/extensions\";\nclass MultisampleSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n  }\n  contextChange(gl) {\n    let samples;\n    if (this.renderer.context.webGLVersion === 1) {\n      const framebuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null), samples = gl.getParameter(gl.SAMPLES), gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    } else {\n      const framebuffer = gl.getParameter(gl.DRAW_FRAMEBUFFER_BINDING);\n      gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null), samples = gl.getParameter(gl.SAMPLES), gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, framebuffer);\n    }\n    samples >= MSAA_QUALITY.HIGH ? this.multisample = MSAA_QUALITY.HIGH : samples >= MSAA_QUALITY.MEDIUM ? this.multisample = MSAA_QUALITY.MEDIUM : samples >= MSAA_QUALITY.LOW ? this.multisample = MSAA_QUALITY.LOW : this.multisample = MSAA_QUALITY.NONE;\n  }\n  destroy() {}\n}\nMultisampleSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"_multisample\"\n};\nextensions.add(MultisampleSystem);\nexport { MultisampleSystem };","map":{"version":3,"names":["MultisampleSystem","constructor","renderer","contextChange","gl","samples","context","webGLVersion","framebuffer","getParameter","FRAMEBUFFER_BINDING","bindFramebuffer","FRAMEBUFFER","SAMPLES","DRAW_FRAMEBUFFER_BINDING","DRAW_FRAMEBUFFER","MSAA_QUALITY","HIGH","multisample","MEDIUM","LOW","NONE","destroy","extension","type","ExtensionType","RendererSystem","name","extensions","add"],"sources":["/home/ryoitsu/node_modules/@pixi/core/src/framebuffer/MultisampleSystem.ts"],"sourcesContent":["import { MSAA_QUALITY } from '@pixi/constants';\nimport { extensions, ExtensionType } from '@pixi/extensions';\n\nimport type { ExtensionMetadata } from '@pixi/extensions';\nimport type { IRenderingContext } from '../IRenderer';\nimport type { Renderer } from '../Renderer';\nimport type { ISystem } from '../system/ISystem';\n\n/**\n * System that manages the multisample property on the WebGL renderer\n * @memberof PIXI\n */\nexport class MultisampleSystem implements ISystem\n{\n    /** @ignore */\n    static extension: ExtensionMetadata = {\n        type: ExtensionType.RendererSystem,\n        name: '_multisample',\n    };\n\n    /**\n     * The number of msaa samples of the canvas.\n     * @readonly\n     */\n    public multisample: MSAA_QUALITY;\n\n    private renderer: Renderer;\n\n    constructor(renderer: Renderer)\n    {\n        this.renderer = renderer;\n    }\n\n    protected contextChange(gl: IRenderingContext): void\n    {\n        let samples;\n\n        if (this.renderer.context.webGLVersion === 1)\n        {\n            const framebuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n\n            gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n            samples = gl.getParameter(gl.SAMPLES);\n\n            gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n        }\n        else\n        {\n            const framebuffer = gl.getParameter(gl.DRAW_FRAMEBUFFER_BINDING);\n\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n\n            samples = gl.getParameter(gl.SAMPLES);\n\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, framebuffer);\n        }\n\n        if (samples >= MSAA_QUALITY.HIGH)\n        {\n            this.multisample = MSAA_QUALITY.HIGH;\n        }\n        else if (samples >= MSAA_QUALITY.MEDIUM)\n        {\n            this.multisample = MSAA_QUALITY.MEDIUM;\n        }\n        else if (samples >= MSAA_QUALITY.LOW)\n        {\n            this.multisample = MSAA_QUALITY.LOW;\n        }\n        else\n        {\n            this.multisample = MSAA_QUALITY.NONE;\n        }\n    }\n\n    destroy(): void\n    {\n        // ka boom!\n    }\n}\n\nextensions.add(MultisampleSystem);\n"],"mappings":";;AAYO,MAAMA,iBAAA,CACb;EAeIC,YAAYC,QAAA,EACZ;IACI,KAAKA,QAAA,GAAWA,QAAA;EACpB;EAEUC,cAAcC,EAAA,EACxB;IACQ,IAAAC,OAAA;IAEJ,IAAI,KAAKH,QAAA,CAASI,OAAA,CAAQC,YAAA,KAAiB,GAC3C;MACI,MAAMC,WAAA,GAAcJ,EAAA,CAAGK,YAAA,CAAaL,EAAA,CAAGM,mBAAmB;MAE1DN,EAAA,CAAGO,eAAA,CAAgBP,EAAA,CAAGQ,WAAA,EAAa,IAAI,GAEvCP,OAAA,GAAUD,EAAA,CAAGK,YAAA,CAAaL,EAAA,CAAGS,OAAO,GAEpCT,EAAA,CAAGO,eAAA,CAAgBP,EAAA,CAAGQ,WAAA,EAAaJ,WAAW;IAAA,OAGlD;MACI,MAAMA,WAAA,GAAcJ,EAAA,CAAGK,YAAA,CAAaL,EAAA,CAAGU,wBAAwB;MAE/DV,EAAA,CAAGO,eAAA,CAAgBP,EAAA,CAAGW,gBAAA,EAAkB,IAAI,GAE5CV,OAAA,GAAUD,EAAA,CAAGK,YAAA,CAAaL,EAAA,CAAGS,OAAO,GAEpCT,EAAA,CAAGO,eAAA,CAAgBP,EAAA,CAAGW,gBAAA,EAAkBP,WAAW;IACvD;IAEIH,OAAA,IAAWW,YAAA,CAAaC,IAAA,GAExB,KAAKC,WAAA,GAAcF,YAAA,CAAaC,IAAA,GAE3BZ,OAAA,IAAWW,YAAA,CAAaG,MAAA,GAE7B,KAAKD,WAAA,GAAcF,YAAA,CAAaG,MAAA,GAE3Bd,OAAA,IAAWW,YAAA,CAAaI,GAAA,GAE7B,KAAKF,WAAA,GAAcF,YAAA,CAAaI,GAAA,GAIhC,KAAKF,WAAA,GAAcF,YAAA,CAAaK,IAAA;EAExC;EAEAC,QAAA,EACA,CAEA;AACJ;AApEatB,iBAAA,CAGFuB,SAAA,GAA+B;EAClCC,IAAA,EAAMC,aAAA,CAAcC,cAAA;EACpBC,IAAA,EAAM;AACV;AAgEJC,UAAA,CAAWC,GAAA,CAAI7B,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}