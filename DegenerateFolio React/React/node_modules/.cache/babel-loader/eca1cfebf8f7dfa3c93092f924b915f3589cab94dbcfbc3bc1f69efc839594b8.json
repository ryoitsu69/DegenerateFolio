{"ast":null,"code":"import { deriveCache } from '../util/index.js';\nexport function getEraCache(CACHE_KEY, era, withActive) {\n  const cacheKey = \"\".concat(CACHE_KEY, \"-\").concat(era.toString());\n  return [cacheKey, withActive ? undefined : deriveCache.get(cacheKey)];\n}\nexport function getEraMultiCache(CACHE_KEY, eras, withActive) {\n  const cached = withActive ? [] : eras.map(e => deriveCache.get(\"\".concat(CACHE_KEY, \"-\").concat(e.toString()))).filter(v => !!v);\n  return cached;\n}\nexport function setEraCache(cacheKey, withActive, value) {\n  !withActive && deriveCache.set(cacheKey, value);\n  return value;\n}\nexport function setEraMultiCache(CACHE_KEY, withActive, values) {\n  !withActive && values.forEach(v => deriveCache.set(\"\".concat(CACHE_KEY, \"-\").concat(v.era.toString()), v));\n  return values;\n}\nexport function filterCachedEras(eras, cached, query) {\n  return eras.map(e => cached.find(_ref => {\n    let {\n      era\n    } = _ref;\n    return e.eq(era);\n  }) || query.find(_ref2 => {\n    let {\n      era\n    } = _ref2;\n    return e.eq(era);\n  })).filter(e => !!e);\n}","map":{"version":3,"names":["deriveCache","getEraCache","CACHE_KEY","era","withActive","cacheKey","concat","toString","undefined","get","getEraMultiCache","eras","cached","map","e","filter","v","setEraCache","value","set","setEraMultiCache","values","forEach","filterCachedEras","query","find","_ref","eq","_ref2"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/staking/cache.js"],"sourcesContent":["import { deriveCache } from '../util/index.js';\nexport function getEraCache(CACHE_KEY, era, withActive) {\n    const cacheKey = `${CACHE_KEY}-${era.toString()}`;\n    return [\n        cacheKey,\n        withActive\n            ? undefined\n            : deriveCache.get(cacheKey)\n    ];\n}\nexport function getEraMultiCache(CACHE_KEY, eras, withActive) {\n    const cached = withActive\n        ? []\n        : eras\n            .map((e) => deriveCache.get(`${CACHE_KEY}-${e.toString()}`))\n            .filter((v) => !!v);\n    return cached;\n}\nexport function setEraCache(cacheKey, withActive, value) {\n    !withActive && deriveCache.set(cacheKey, value);\n    return value;\n}\nexport function setEraMultiCache(CACHE_KEY, withActive, values) {\n    !withActive && values.forEach((v) => deriveCache.set(`${CACHE_KEY}-${v.era.toString()}`, v));\n    return values;\n}\nexport function filterCachedEras(eras, cached, query) {\n    return eras\n        .map((e) => cached.find(({ era }) => e.eq(era)) ||\n        query.find(({ era }) => e.eq(era)))\n        .filter((e) => !!e);\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,SAASC,WAAWA,CAACC,SAAS,EAAEC,GAAG,EAAEC,UAAU,EAAE;EACpD,MAAMC,QAAQ,MAAAC,MAAA,CAAMJ,SAAS,OAAAI,MAAA,CAAIH,GAAG,CAACI,QAAQ,CAAC,CAAC,CAAE;EACjD,OAAO,CACHF,QAAQ,EACRD,UAAU,GACJI,SAAS,GACTR,WAAW,CAACS,GAAG,CAACJ,QAAQ,CAAC,CAClC;AACL;AACA,OAAO,SAASK,gBAAgBA,CAACR,SAAS,EAAES,IAAI,EAAEP,UAAU,EAAE;EAC1D,MAAMQ,MAAM,GAAGR,UAAU,GACnB,EAAE,GACFO,IAAI,CACDE,GAAG,CAAEC,CAAC,IAAKd,WAAW,CAACS,GAAG,IAAAH,MAAA,CAAIJ,SAAS,OAAAI,MAAA,CAAIQ,CAAC,CAACP,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAC,CAC3DQ,MAAM,CAAEC,CAAC,IAAK,CAAC,CAACA,CAAC,CAAC;EAC3B,OAAOJ,MAAM;AACjB;AACA,OAAO,SAASK,WAAWA,CAACZ,QAAQ,EAAED,UAAU,EAAEc,KAAK,EAAE;EACrD,CAACd,UAAU,IAAIJ,WAAW,CAACmB,GAAG,CAACd,QAAQ,EAAEa,KAAK,CAAC;EAC/C,OAAOA,KAAK;AAChB;AACA,OAAO,SAASE,gBAAgBA,CAAClB,SAAS,EAAEE,UAAU,EAAEiB,MAAM,EAAE;EAC5D,CAACjB,UAAU,IAAIiB,MAAM,CAACC,OAAO,CAAEN,CAAC,IAAKhB,WAAW,CAACmB,GAAG,IAAAb,MAAA,CAAIJ,SAAS,OAAAI,MAAA,CAAIU,CAAC,CAACb,GAAG,CAACI,QAAQ,CAAC,CAAC,GAAIS,CAAC,CAAC,CAAC;EAC5F,OAAOK,MAAM;AACjB;AACA,OAAO,SAASE,gBAAgBA,CAACZ,IAAI,EAAEC,MAAM,EAAEY,KAAK,EAAE;EAClD,OAAOb,IAAI,CACNE,GAAG,CAAEC,CAAC,IAAKF,MAAM,CAACa,IAAI,CAACC,IAAA;IAAA,IAAC;MAAEvB;IAAI,CAAC,GAAAuB,IAAA;IAAA,OAAKZ,CAAC,CAACa,EAAE,CAACxB,GAAG,CAAC;EAAA,EAAC,IAC/CqB,KAAK,CAACC,IAAI,CAACG,KAAA;IAAA,IAAC;MAAEzB;IAAI,CAAC,GAAAyB,KAAA;IAAA,OAAKd,CAAC,CAACa,EAAE,CAACxB,GAAG,CAAC;EAAA,EAAC,CAAC,CAClCY,MAAM,CAAED,CAAC,IAAK,CAAC,CAACA,CAAC,CAAC;AAC3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}