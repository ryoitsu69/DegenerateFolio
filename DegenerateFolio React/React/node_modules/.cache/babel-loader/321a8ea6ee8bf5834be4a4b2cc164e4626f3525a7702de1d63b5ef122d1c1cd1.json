{"ast":null,"code":"import { map, of, switchMap } from 'rxjs';\nimport { memo } from '../util/index.js';\nimport { getImageHashBounded } from './util.js';\nfunction withImage(api, nextOpt) {\n  if (nextOpt.isNone) {\n    return of(null);\n  }\n  const [hash, threshold] = nextOpt.unwrap();\n  return api.derive.democracy.preimage(hash).pipe(map(image => ({\n    image,\n    imageHash: getImageHashBounded(hash),\n    threshold\n  })));\n}\nexport function nextExternal(instanceId, api) {\n  return memo(instanceId, () => {\n    var _api$query$democracy;\n    return (_api$query$democracy = api.query.democracy) !== null && _api$query$democracy !== void 0 && _api$query$democracy.nextExternal ? api.query.democracy.nextExternal().pipe(switchMap(nextOpt => withImage(api, nextOpt))) : of(null);\n  });\n}","map":{"version":3,"names":["map","of","switchMap","memo","getImageHashBounded","withImage","api","nextOpt","isNone","hash","threshold","unwrap","derive","democracy","preimage","pipe","image","imageHash","nextExternal","instanceId","_api$query$democracy","query"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/democracy/nextExternal.js"],"sourcesContent":["import { map, of, switchMap } from 'rxjs';\nimport { memo } from '../util/index.js';\nimport { getImageHashBounded } from './util.js';\nfunction withImage(api, nextOpt) {\n    if (nextOpt.isNone) {\n        return of(null);\n    }\n    const [hash, threshold] = nextOpt.unwrap();\n    return api.derive.democracy.preimage(hash).pipe(map((image) => ({\n        image,\n        imageHash: getImageHashBounded(hash),\n        threshold\n    })));\n}\nexport function nextExternal(instanceId, api) {\n    return memo(instanceId, () => api.query.democracy?.nextExternal\n        ? api.query.democracy.nextExternal().pipe(switchMap((nextOpt) => withImage(api, nextOpt)))\n        : of(null));\n}\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,EAAE,EAAEC,SAAS,QAAQ,MAAM;AACzC,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,mBAAmB,QAAQ,WAAW;AAC/C,SAASC,SAASA,CAACC,GAAG,EAAEC,OAAO,EAAE;EAC7B,IAAIA,OAAO,CAACC,MAAM,EAAE;IAChB,OAAOP,EAAE,CAAC,IAAI,CAAC;EACnB;EACA,MAAM,CAACQ,IAAI,EAAEC,SAAS,CAAC,GAAGH,OAAO,CAACI,MAAM,CAAC,CAAC;EAC1C,OAAOL,GAAG,CAACM,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACL,IAAI,CAAC,CAACM,IAAI,CAACf,GAAG,CAAEgB,KAAK,KAAM;IAC5DA,KAAK;IACLC,SAAS,EAAEb,mBAAmB,CAACK,IAAI,CAAC;IACpCC;EACJ,CAAC,CAAC,CAAC,CAAC;AACR;AACA,OAAO,SAASQ,YAAYA,CAACC,UAAU,EAAEb,GAAG,EAAE;EAC1C,OAAOH,IAAI,CAACgB,UAAU,EAAE;IAAA,IAAAC,oBAAA;IAAA,OAAM,CAAAA,oBAAA,GAAAd,GAAG,CAACe,KAAK,CAACR,SAAS,cAAAO,oBAAA,eAAnBA,oBAAA,CAAqBF,YAAY,GACzDZ,GAAG,CAACe,KAAK,CAACR,SAAS,CAACK,YAAY,CAAC,CAAC,CAACH,IAAI,CAACb,SAAS,CAAEK,OAAO,IAAKF,SAAS,CAACC,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC,GACxFN,EAAE,CAAC,IAAI,CAAC;EAAA,EAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}