{"ast":null,"code":"import { Matrix } from '../../../../maths/matrix/Matrix.mjs';\nimport { uid } from '../../../../utils/data/uid.mjs';\n\"use strict\";\nconst repetitionMap = {\n  repeat: {\n    addressModeU: \"repeat\",\n    addressModeV: \"repeat\"\n  },\n  \"repeat-x\": {\n    addressModeU: \"repeat\",\n    addressModeV: \"clamp-to-edge\"\n  },\n  \"repeat-y\": {\n    addressModeU: \"clamp-to-edge\",\n    addressModeV: \"repeat\"\n  },\n  \"no-repeat\": {\n    addressModeU: \"clamp-to-edge\",\n    addressModeV: \"clamp-to-edge\"\n  }\n};\nclass FillPattern {\n  constructor(texture, repetition) {\n    this.uid = uid(\"fillPattern\");\n    this.transform = new Matrix();\n    this.texture = texture;\n    this.transform.scale(1 / texture.frame.width, 1 / texture.frame.height);\n    if (repetition) {\n      texture.source.style.addressModeU = repetitionMap[repetition].addressModeU;\n      texture.source.style.addressModeV = repetitionMap[repetition].addressModeV;\n    }\n  }\n  setTransform(transform) {\n    const texture = this.texture;\n    this.transform.copyFrom(transform);\n    this.transform.invert();\n    this.transform.scale(1 / texture.frame.width, 1 / texture.frame.height);\n  }\n}\nexport { FillPattern };","map":{"version":3,"names":["repetitionMap","repeat","addressModeU","addressModeV","FillPattern","constructor","texture","repetition","uid","transform","Matrix","scale","frame","width","height","source","style","setTransform","copyFrom","invert"],"sources":["/home/ryoitsu/node_modules/pixi.js/src/scene/graphics/shared/fill/FillPattern.ts"],"sourcesContent":["import { Matrix } from '../../../../maths/matrix/Matrix';\nimport { uid } from '../../../../utils/data/uid';\n\nimport type { WRAP_MODE } from '../../../../rendering/renderers/shared/texture/const';\nimport type { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\n\nexport type PatternRepetition = 'repeat' | 'repeat-x' | 'repeat-y' | 'no-repeat';\n\nconst repetitionMap = {\n    repeat: {\n        addressModeU: 'repeat',\n        addressModeV: 'repeat',\n    },\n    'repeat-x': {\n        addressModeU: 'repeat',\n        addressModeV: 'clamp-to-edge',\n    },\n    'repeat-y': {\n        addressModeU: 'clamp-to-edge',\n        addressModeV: 'repeat',\n    },\n    'no-repeat': {\n        addressModeU: 'clamp-to-edge',\n        addressModeV: 'clamp-to-edge',\n    },\n};\n\nexport class FillPattern implements CanvasPattern\n{\n    public readonly uid = uid('fillPattern');\n    public texture: Texture;\n    public transform = new Matrix();\n\n    constructor(texture: Texture, repetition?: PatternRepetition)\n    {\n        this.texture = texture;\n\n        this.transform.scale(\n            1 / texture.frame.width,\n            1 / texture.frame.height\n        );\n\n        if (repetition)\n        {\n            texture.source.style.addressModeU = repetitionMap[repetition].addressModeU as WRAP_MODE;\n            texture.source.style.addressModeV = repetitionMap[repetition].addressModeV as WRAP_MODE;\n        }\n    }\n\n    public setTransform(transform?: Matrix): void\n    {\n        const texture = this.texture;\n\n        this.transform.copyFrom(transform);\n        this.transform.invert();\n        //  transform.scale\n        this.transform.scale(\n            1 / texture.frame.width,\n            1 / texture.frame.height\n        );\n    }\n}\n"],"mappings":";;;AAQA,MAAMA,aAAgB;EAClBC,MAAQ;IACJC,YAAc;IACdC,YAAc;EAAA,CAClB;EACA,UAAY;IACRD,YAAc;IACdC,YAAc;EAAA,CAClB;EACA,UAAY;IACRD,YAAc;IACdC,YAAc;EAAA,CAClB;EACA,WAAa;IACTD,YAAc;IACdC,YAAc;EAAA;AAEtB;AAEO,MAAMC,WACb;EAKIC,YAAYC,OAAA,EAAkBC,UAC9B;IALgB,KAAAC,GAAA,GAAMA,GAAA,CAAI,aAAa;IAEhC,KAAAC,SAAA,GAAY,IAAIC,MAAO;IAI1B,KAAKJ,OAAU,GAAAA,OAAA;IAEf,KAAKG,SAAU,CAAAE,KAAA,CACX,IAAIL,OAAA,CAAQM,KAAM,CAAAC,KAAA,EAClB,IAAIP,OAAA,CAAQM,KAAM,CAAAE,MAAA,CACtB;IAEA,IAAIP,UACJ;MACID,OAAA,CAAQS,MAAO,CAAAC,KAAA,CAAMd,YAAe,GAAAF,aAAA,CAAcO,UAAU,CAAE,CAAAL,YAAA;MAC9DI,OAAA,CAAQS,MAAO,CAAAC,KAAA,CAAMb,YAAe,GAAAH,aAAA,CAAcO,UAAU,CAAE,CAAAJ,YAAA;IAAA;EAClE;EAGGc,aAAaR,SACpB;IACI,MAAMH,OAAA,GAAU,IAAK,CAAAA,OAAA;IAEhB,KAAAG,SAAA,CAAUS,QAAA,CAAST,SAAS;IACjC,KAAKA,SAAA,CAAUU,MAAO;IAEtB,KAAKV,SAAU,CAAAE,KAAA,CACX,IAAIL,OAAA,CAAQM,KAAM,CAAAC,KAAA,EAClB,IAAIP,OAAA,CAAQM,KAAM,CAAAE,MAAA,CACtB;EAAA;AAER","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}