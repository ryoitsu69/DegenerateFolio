{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Params = void 0;\n/* eslint-disable @typescript-eslint/naming-convention */\nconst encoding_1 = require(\"@cosmjs/encoding\");\nconst inthelpers_1 = require(\"../../inthelpers\");\nconst jsonrpc_1 = require(\"../../jsonrpc\");\nconst encodings_1 = require(\"../encodings\");\nconst requests = __importStar(require(\"../requests\"));\nfunction encodeHeightParam(param) {\n  return {\n    height: (0, encodings_1.may)(inthelpers_1.smallIntToApi, param.height)\n  };\n}\nfunction encodeBlockchainRequestParams(param) {\n  return {\n    minHeight: (0, encodings_1.may)(inthelpers_1.smallIntToApi, param.minHeight),\n    maxHeight: (0, encodings_1.may)(inthelpers_1.smallIntToApi, param.maxHeight)\n  };\n}\nfunction encodeBlockSearchParams(params) {\n  return {\n    query: params.query,\n    page: (0, encodings_1.may)(inthelpers_1.smallIntToApi, params.page),\n    per_page: (0, encodings_1.may)(inthelpers_1.smallIntToApi, params.per_page),\n    order_by: params.order_by\n  };\n}\nfunction encodeAbciQueryParams(params) {\n  return {\n    path: (0, encodings_1.assertNotEmpty)(params.path),\n    data: (0, encoding_1.toHex)(params.data),\n    height: (0, encodings_1.may)(inthelpers_1.smallIntToApi, params.height),\n    prove: params.prove\n  };\n}\nfunction encodeBroadcastTxParams(params) {\n  return {\n    tx: (0, encoding_1.toBase64)((0, encodings_1.assertNotEmpty)(params.tx))\n  };\n}\nfunction encodeTxParams(params) {\n  return {\n    hash: (0, encoding_1.toBase64)((0, encodings_1.assertNotEmpty)(params.hash)),\n    prove: params.prove\n  };\n}\nfunction encodeTxSearchParams(params) {\n  return {\n    query: params.query,\n    prove: params.prove,\n    page: (0, encodings_1.may)(inthelpers_1.smallIntToApi, params.page),\n    per_page: (0, encodings_1.may)(inthelpers_1.smallIntToApi, params.per_page),\n    order_by: params.order_by\n  };\n}\nfunction encodeValidatorsParams(params) {\n  return {\n    height: (0, encodings_1.may)(inthelpers_1.smallIntToApi, params.height),\n    page: (0, encodings_1.may)(inthelpers_1.smallIntToApi, params.page),\n    per_page: (0, encodings_1.may)(inthelpers_1.smallIntToApi, params.per_page)\n  };\n}\nclass Params {\n  static encodeAbciInfo(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method);\n  }\n  static encodeAbciQuery(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeAbciQueryParams(req.params));\n  }\n  static encodeBlock(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeHeightParam(req.params));\n  }\n  static encodeBlockchain(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeBlockchainRequestParams(req.params));\n  }\n  static encodeBlockResults(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeHeightParam(req.params));\n  }\n  static encodeBlockSearch(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeBlockSearchParams(req.params));\n  }\n  static encodeBroadcastTx(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeBroadcastTxParams(req.params));\n  }\n  static encodeCommit(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeHeightParam(req.params));\n  }\n  static encodeGenesis(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method);\n  }\n  static encodeHealth(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method);\n  }\n  static encodeNumUnconfirmedTxs(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method);\n  }\n  static encodeStatus(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method);\n  }\n  static encodeSubscribe(req) {\n    const eventTag = {\n      key: \"tm.event\",\n      value: req.query.type\n    };\n    const query = requests.buildQuery({\n      tags: [eventTag],\n      raw: req.query.raw\n    });\n    return (0, jsonrpc_1.createJsonRpcRequest)(\"subscribe\", {\n      query: query\n    });\n  }\n  static encodeTx(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeTxParams(req.params));\n  }\n  // TODO: encode params for query string???\n  static encodeTxSearch(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeTxSearchParams(req.params));\n  }\n  static encodeValidators(req) {\n    return (0, jsonrpc_1.createJsonRpcRequest)(req.method, encodeValidatorsParams(req.params));\n  }\n}\nexports.Params = Params;","map":{"version":3,"names":["encoding_1","require","inthelpers_1","jsonrpc_1","encodings_1","requests","__importStar","encodeHeightParam","param","height","may","smallIntToApi","encodeBlockchainRequestParams","minHeight","maxHeight","encodeBlockSearchParams","params","query","page","per_page","order_by","encodeAbciQueryParams","path","assertNotEmpty","data","toHex","prove","encodeBroadcastTxParams","tx","toBase64","encodeTxParams","hash","encodeTxSearchParams","encodeValidatorsParams","Params","encodeAbciInfo","req","createJsonRpcRequest","method","encodeAbciQuery","encodeBlock","encodeBlockchain","encodeBlockResults","encodeBlockSearch","encodeBroadcastTx","encodeCommit","encodeGenesis","encodeHealth","encodeNumUnconfirmedTxs","encodeStatus","encodeSubscribe","eventTag","key","value","type","buildQuery","tags","raw","encodeTx","encodeTxSearch","encodeValidators","exports"],"sources":["../../../src/tendermint34/adaptor/requests.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA,MAAAA,UAAA,GAAAC,OAAA;AAGA,MAAAC,YAAA,GAAAD,OAAA;AACA,MAAAE,SAAA,GAAAF,OAAA;AACA,MAAAG,WAAA,GAAAH,OAAA;AACA,MAAAI,QAAA,GAAAC,YAAA,CAAAL,OAAA;AAQA,SAASM,iBAAiBA,CAACC,KAAkB;EAC3C,OAAO;IACLC,MAAM,EAAE,IAAAL,WAAA,CAAAM,GAAG,EAACR,YAAA,CAAAS,aAAa,EAAEH,KAAK,CAACC,MAAM;GACxC;AACH;AAOA,SAASG,6BAA6BA,CAACJ,KAAuC;EAC5E,OAAO;IACLK,SAAS,EAAE,IAAAT,WAAA,CAAAM,GAAG,EAACR,YAAA,CAAAS,aAAa,EAAEH,KAAK,CAACK,SAAS,CAAC;IAC9CC,SAAS,EAAE,IAAAV,WAAA,CAAAM,GAAG,EAACR,YAAA,CAAAS,aAAa,EAAEH,KAAK,CAACM,SAAS;GAC9C;AACH;AAQA,SAASC,uBAAuBA,CAACC,MAAkC;EACjE,OAAO;IACLC,KAAK,EAAED,MAAM,CAACC,KAAK;IACnBC,IAAI,EAAE,IAAAd,WAAA,CAAAM,GAAG,EAACR,YAAA,CAAAS,aAAa,EAAEK,MAAM,CAACE,IAAI,CAAC;IACrCC,QAAQ,EAAE,IAAAf,WAAA,CAAAM,GAAG,EAACR,YAAA,CAAAS,aAAa,EAAEK,MAAM,CAACG,QAAQ,CAAC;IAC7CC,QAAQ,EAAEJ,MAAM,CAACI;GAClB;AACH;AAUA,SAASC,qBAAqBA,CAACL,MAAgC;EAC7D,OAAO;IACLM,IAAI,EAAE,IAAAlB,WAAA,CAAAmB,cAAc,EAACP,MAAM,CAACM,IAAI,CAAC;IACjCE,IAAI,EAAE,IAAAxB,UAAA,CAAAyB,KAAK,EAACT,MAAM,CAACQ,IAAI,CAAC;IACxBf,MAAM,EAAE,IAAAL,WAAA,CAAAM,GAAG,EAACR,YAAA,CAAAS,aAAa,EAAEK,MAAM,CAACP,MAAM,CAAC;IACzCiB,KAAK,EAAEV,MAAM,CAACU;GACf;AACH;AAMA,SAASC,uBAAuBA,CAACX,MAAkC;EACjE,OAAO;IACLY,EAAE,EAAE,IAAA5B,UAAA,CAAA6B,QAAQ,EAAC,IAAAzB,WAAA,CAAAmB,cAAc,EAACP,MAAM,CAACY,EAAE,CAAC;GACvC;AACH;AAOA,SAASE,cAAcA,CAACd,MAAyB;EAC/C,OAAO;IACLe,IAAI,EAAE,IAAA/B,UAAA,CAAA6B,QAAQ,EAAC,IAAAzB,WAAA,CAAAmB,cAAc,EAACP,MAAM,CAACe,IAAI,CAAC,CAAC;IAC3CL,KAAK,EAAEV,MAAM,CAACU;GACf;AACH;AASA,SAASM,oBAAoBA,CAAChB,MAA+B;EAC3D,OAAO;IACLC,KAAK,EAAED,MAAM,CAACC,KAAK;IACnBS,KAAK,EAAEV,MAAM,CAACU,KAAK;IACnBR,IAAI,EAAE,IAAAd,WAAA,CAAAM,GAAG,EAACR,YAAA,CAAAS,aAAa,EAAEK,MAAM,CAACE,IAAI,CAAC;IACrCC,QAAQ,EAAE,IAAAf,WAAA,CAAAM,GAAG,EAACR,YAAA,CAAAS,aAAa,EAAEK,MAAM,CAACG,QAAQ,CAAC;IAC7CC,QAAQ,EAAEJ,MAAM,CAACI;GAClB;AACH;AAOA,SAASa,sBAAsBA,CAACjB,MAAiC;EAC/D,OAAO;IACLP,MAAM,EAAE,IAAAL,WAAA,CAAAM,GAAG,EAACR,YAAA,CAAAS,aAAa,EAAEK,MAAM,CAACP,MAAM,CAAC;IACzCS,IAAI,EAAE,IAAAd,WAAA,CAAAM,GAAG,EAACR,YAAA,CAAAS,aAAa,EAAEK,MAAM,CAACE,IAAI,CAAC;IACrCC,QAAQ,EAAE,IAAAf,WAAA,CAAAM,GAAG,EAACR,YAAA,CAAAS,aAAa,EAAEK,MAAM,CAACG,QAAQ;GAC7C;AACH;AAEA,MAAae,MAAM;EACV,OAAOC,cAAcA,CAACC,GAA6B;IACxD,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,CAAC;EACzC;EAEO,OAAOC,eAAeA,CAACH,GAA8B;IAC1D,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,EAAEjB,qBAAqB,CAACe,GAAG,CAACpB,MAAM,CAAC,CAAC;EAC5E;EAEO,OAAOwB,WAAWA,CAACJ,GAA0B;IAClD,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,EAAE/B,iBAAiB,CAAC6B,GAAG,CAACpB,MAAM,CAAC,CAAC;EACxE;EAEO,OAAOyB,gBAAgBA,CAACL,GAA+B;IAC5D,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,EAAE1B,6BAA6B,CAACwB,GAAG,CAACpB,MAAM,CAAC,CAAC;EACpF;EAEO,OAAO0B,kBAAkBA,CAACN,GAAiC;IAChE,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,EAAE/B,iBAAiB,CAAC6B,GAAG,CAACpB,MAAM,CAAC,CAAC;EACxE;EAEO,OAAO2B,iBAAiBA,CAACP,GAAgC;IAC9D,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,EAAEvB,uBAAuB,CAACqB,GAAG,CAACpB,MAAM,CAAC,CAAC;EAC9E;EAEO,OAAO4B,iBAAiBA,CAACR,GAAgC;IAC9D,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,EAAEX,uBAAuB,CAACS,GAAG,CAACpB,MAAM,CAAC,CAAC;EAC9E;EAEO,OAAO6B,YAAYA,CAACT,GAA2B;IACpD,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,EAAE/B,iBAAiB,CAAC6B,GAAG,CAACpB,MAAM,CAAC,CAAC;EACxE;EAEO,OAAO8B,aAAaA,CAACV,GAA4B;IACtD,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,CAAC;EACzC;EAEO,OAAOS,YAAYA,CAACX,GAA2B;IACpD,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,CAAC;EACzC;EAEO,OAAOU,uBAAuBA,CAACZ,GAAsC;IAC1E,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,CAAC;EACzC;EAEO,OAAOW,YAAYA,CAACb,GAA2B;IACpD,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,CAAC;EACzC;EAEO,OAAOY,eAAeA,CAACd,GAA8B;IAC1D,MAAMe,QAAQ,GAAG;MAAEC,GAAG,EAAE,UAAU;MAAEC,KAAK,EAAEjB,GAAG,CAACnB,KAAK,CAACqC;IAAI,CAAE;IAC3D,MAAMrC,KAAK,GAAGZ,QAAQ,CAACkD,UAAU,CAAC;MAAEC,IAAI,EAAE,CAACL,QAAQ,CAAC;MAAEM,GAAG,EAAErB,GAAG,CAACnB,KAAK,CAACwC;IAAG,CAAE,CAAC;IAC3E,OAAO,IAAAtD,SAAA,CAAAkC,oBAAoB,EAAC,WAAW,EAAE;MAAEpB,KAAK,EAAEA;IAAK,CAAE,CAAC;EAC5D;EAEO,OAAOyC,QAAQA,CAACtB,GAAuB;IAC5C,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,EAAER,cAAc,CAACM,GAAG,CAACpB,MAAM,CAAC,CAAC;EACrE;EAEA;EACO,OAAO2C,cAAcA,CAACvB,GAA6B;IACxD,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,EAAEN,oBAAoB,CAACI,GAAG,CAACpB,MAAM,CAAC,CAAC;EAC3E;EAEO,OAAO4C,gBAAgBA,CAACxB,GAA+B;IAC5D,OAAO,IAAAjC,SAAA,CAAAkC,oBAAoB,EAACD,GAAG,CAACE,MAAM,EAAEL,sBAAsB,CAACG,GAAG,CAACpB,MAAM,CAAC,CAAC;EAC7E;;AAlEF6C,OAAA,CAAA3B,MAAA,GAAAA,MAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}