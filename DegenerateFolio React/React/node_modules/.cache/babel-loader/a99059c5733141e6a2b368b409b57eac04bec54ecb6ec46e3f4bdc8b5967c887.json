{"ast":null,"code":"import { sshash } from './sshash.js';\nexport function checkAddressChecksum(decoded) {\n  const ss58Length = decoded[0] & 64 ? 2 : 1;\n  const ss58Decoded = ss58Length === 1 ? decoded[0] : (decoded[0] & 63) << 2 | decoded[1] >> 6 | (decoded[1] & 63) << 8;\n  // 32/33 bytes public + 2 bytes checksum + prefix\n  const isPublicKey = [34 + ss58Length, 35 + ss58Length].includes(decoded.length);\n  const length = decoded.length - (isPublicKey ? 2 : 1);\n  // calculate the hash and do the checksum byte checks\n  const hash = sshash(decoded.subarray(0, length));\n  const isValid = (decoded[0] & 128) === 0 && ![46, 47].includes(decoded[0]) && (isPublicKey ? decoded[decoded.length - 2] === hash[0] && decoded[decoded.length - 1] === hash[1] : decoded[decoded.length - 1] === hash[0]);\n  return [isValid, length, ss58Length, ss58Decoded];\n}","map":{"version":3,"names":["sshash","checkAddressChecksum","decoded","ss58Length","ss58Decoded","isPublicKey","includes","length","hash","subarray","isValid"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/util-crypto/address/checksum.js"],"sourcesContent":["import { sshash } from './sshash.js';\nexport function checkAddressChecksum(decoded) {\n    const ss58Length = (decoded[0] & 64) ? 2 : 1;\n    const ss58Decoded = ss58Length === 1\n        ? decoded[0]\n        : ((decoded[0] & 63) << 2) | (decoded[1] >> 6) | ((decoded[1] & 63) << 8);\n    // 32/33 bytes public + 2 bytes checksum + prefix\n    const isPublicKey = [34 + ss58Length, 35 + ss58Length].includes(decoded.length);\n    const length = decoded.length - (isPublicKey ? 2 : 1);\n    // calculate the hash and do the checksum byte checks\n    const hash = sshash(decoded.subarray(0, length));\n    const isValid = (decoded[0] & 128) === 0 && ![46, 47].includes(decoded[0]) && (isPublicKey\n        ? decoded[decoded.length - 2] === hash[0] && decoded[decoded.length - 1] === hash[1]\n        : decoded[decoded.length - 1] === hash[0]);\n    return [isValid, length, ss58Length, ss58Decoded];\n}\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,aAAa;AACpC,OAAO,SAASC,oBAAoBA,CAACC,OAAO,EAAE;EAC1C,MAAMC,UAAU,GAAID,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,GAAI,CAAC,GAAG,CAAC;EAC5C,MAAME,WAAW,GAAGD,UAAU,KAAK,CAAC,GAC9BD,OAAO,CAAC,CAAC,CAAC,GACT,CAACA,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,GAAKA,OAAO,CAAC,CAAC,CAAC,IAAI,CAAE,GAAI,CAACA,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,KAAK,CAAE;EAC7E;EACA,MAAMG,WAAW,GAAG,CAAC,EAAE,GAAGF,UAAU,EAAE,EAAE,GAAGA,UAAU,CAAC,CAACG,QAAQ,CAACJ,OAAO,CAACK,MAAM,CAAC;EAC/E,MAAMA,MAAM,GAAGL,OAAO,CAACK,MAAM,IAAIF,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC;EACrD;EACA,MAAMG,IAAI,GAAGR,MAAM,CAACE,OAAO,CAACO,QAAQ,CAAC,CAAC,EAAEF,MAAM,CAAC,CAAC;EAChD,MAAMG,OAAO,GAAG,CAACR,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAACI,QAAQ,CAACJ,OAAO,CAAC,CAAC,CAAC,CAAC,KAAKG,WAAW,GACpFH,OAAO,CAACA,OAAO,CAACK,MAAM,GAAG,CAAC,CAAC,KAAKC,IAAI,CAAC,CAAC,CAAC,IAAIN,OAAO,CAACA,OAAO,CAACK,MAAM,GAAG,CAAC,CAAC,KAAKC,IAAI,CAAC,CAAC,CAAC,GAClFN,OAAO,CAACA,OAAO,CAACK,MAAM,GAAG,CAAC,CAAC,KAAKC,IAAI,CAAC,CAAC,CAAC,CAAC;EAC9C,OAAO,CAACE,OAAO,EAAEH,MAAM,EAAEJ,UAAU,EAAEC,WAAW,CAAC;AACrD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}