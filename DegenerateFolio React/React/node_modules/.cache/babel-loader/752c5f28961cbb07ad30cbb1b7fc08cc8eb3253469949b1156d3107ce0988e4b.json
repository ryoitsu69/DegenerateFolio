{"ast":null,"code":"import _defineProperty from \"/home/ryoitsu/Documents/test/react-todo-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { isNumber, isString, isUndefined, stringify } from '@polkadot/util';\nimport RpcError from './error.js';\nfunction formatErrorData(data) {\n  if (isUndefined(data)) {\n    return '';\n  }\n  const formatted = \": \".concat(isString(data) ? data.replace(/Error\\(\"/g, '').replace(/\\(\"/g, '(').replace(/\"\\)/g, ')').replace(/\\(/g, ', ').replace(/\\)/g, '') : stringify(data));\n  // We need some sort of cut-off here since these can be very large and\n  // very nested, pick a number and trim the result display to it\n  return formatted.length <= 256 ? formatted : \"\".concat(formatted.substring(0, 255), \"\\u2026\");\n}\nfunction checkError(error) {\n  if (error) {\n    const {\n      code,\n      data,\n      message\n    } = error;\n    throw new RpcError(\"\".concat(code, \": \").concat(message).concat(formatErrorData(data)), code, data);\n  }\n}\n/** @internal */\nexport class RpcCoder {\n  constructor() {\n    _defineProperty(this, \"__internal__id\", 0);\n  }\n  decodeResponse(response) {\n    if (!response || response.jsonrpc !== '2.0') {\n      throw new Error('Invalid jsonrpc field in decoded object');\n    }\n    const isSubscription = !isUndefined(response.params) && !isUndefined(response.method);\n    if (!isNumber(response.id) && (!isSubscription || !isNumber(response.params.subscription) && !isString(response.params.subscription))) {\n      throw new Error('Invalid id field in decoded object');\n    }\n    checkError(response.error);\n    if (response.result === undefined && !isSubscription) {\n      throw new Error('No result found in jsonrpc response');\n    }\n    if (isSubscription) {\n      checkError(response.params.error);\n      return response.params.result;\n    }\n    return response.result;\n  }\n  encodeJson(method, params) {\n    const [id, data] = this.encodeObject(method, params);\n    return [id, stringify(data)];\n  }\n  encodeObject(method, params) {\n    const id = ++this.__internal__id;\n    return [id, {\n      id,\n      jsonrpc: '2.0',\n      method,\n      params\n    }];\n  }\n}","map":{"version":3,"names":["isNumber","isString","isUndefined","stringify","RpcError","formatErrorData","data","formatted","concat","replace","length","substring","checkError","error","code","message","RpcCoder","constructor","_defineProperty","decodeResponse","response","jsonrpc","Error","isSubscription","params","method","id","subscription","result","undefined","encodeJson","encodeObject","__internal__id"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/rpc-provider/coder/index.js"],"sourcesContent":["import { isNumber, isString, isUndefined, stringify } from '@polkadot/util';\nimport RpcError from './error.js';\nfunction formatErrorData(data) {\n    if (isUndefined(data)) {\n        return '';\n    }\n    const formatted = `: ${isString(data)\n        ? data.replace(/Error\\(\"/g, '').replace(/\\(\"/g, '(').replace(/\"\\)/g, ')').replace(/\\(/g, ', ').replace(/\\)/g, '')\n        : stringify(data)}`;\n    // We need some sort of cut-off here since these can be very large and\n    // very nested, pick a number and trim the result display to it\n    return formatted.length <= 256\n        ? formatted\n        : `${formatted.substring(0, 255)}â€¦`;\n}\nfunction checkError(error) {\n    if (error) {\n        const { code, data, message } = error;\n        throw new RpcError(`${code}: ${message}${formatErrorData(data)}`, code, data);\n    }\n}\n/** @internal */\nexport class RpcCoder {\n    __internal__id = 0;\n    decodeResponse(response) {\n        if (!response || response.jsonrpc !== '2.0') {\n            throw new Error('Invalid jsonrpc field in decoded object');\n        }\n        const isSubscription = !isUndefined(response.params) && !isUndefined(response.method);\n        if (!isNumber(response.id) &&\n            (!isSubscription || (!isNumber(response.params.subscription) &&\n                !isString(response.params.subscription)))) {\n            throw new Error('Invalid id field in decoded object');\n        }\n        checkError(response.error);\n        if (response.result === undefined && !isSubscription) {\n            throw new Error('No result found in jsonrpc response');\n        }\n        if (isSubscription) {\n            checkError(response.params.error);\n            return response.params.result;\n        }\n        return response.result;\n    }\n    encodeJson(method, params) {\n        const [id, data] = this.encodeObject(method, params);\n        return [id, stringify(data)];\n    }\n    encodeObject(method, params) {\n        const id = ++this.__internal__id;\n        return [id, {\n                id,\n                jsonrpc: '2.0',\n                method,\n                params\n            }];\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}