{"ast":null,"code":"import { combineLatest, map, of } from 'rxjs';\nimport { firstMemo, memo } from '../util/index.js';\nimport { erasHistoricApplyAccount } from './util.js';\nexport function _ownSlashes(instanceId, api) {\n  return memo(instanceId, (accountId, eras, _withActive) => eras.length ? combineLatest([combineLatest(eras.map(e => api.query.staking.validatorSlashInEra(e, accountId))), combineLatest(eras.map(e => api.query.staking.nominatorSlashInEra(e, accountId)))]).pipe(map(([vals, noms]) => eras.map((era, index) => ({\n    era,\n    total: vals[index].isSome ? vals[index].unwrap()[1] : noms[index].unwrapOrDefault()\n  })))) : of([]));\n}\nexport const ownSlash = /*#__PURE__*/firstMemo((api, accountId, era) => api.derive.staking._ownSlashes(accountId, [era], true));\nexport const ownSlashes = /*#__PURE__*/erasHistoricApplyAccount('_ownSlashes');","map":{"version":3,"names":["combineLatest","map","of","firstMemo","memo","erasHistoricApplyAccount","_ownSlashes","instanceId","api","accountId","eras","_withActive","length","e","query","staking","validatorSlashInEra","nominatorSlashInEra","pipe","vals","noms","era","index","total","isSome","unwrap","unwrapOrDefault","ownSlash","derive","ownSlashes"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/staking/ownSlashes.js"],"sourcesContent":["import { combineLatest, map, of } from 'rxjs';\nimport { firstMemo, memo } from '../util/index.js';\nimport { erasHistoricApplyAccount } from './util.js';\nexport function _ownSlashes(instanceId, api) {\n    return memo(instanceId, (accountId, eras, _withActive) => eras.length\n        ? combineLatest([\n            combineLatest(eras.map((e) => api.query.staking.validatorSlashInEra(e, accountId))),\n            combineLatest(eras.map((e) => api.query.staking.nominatorSlashInEra(e, accountId)))\n        ]).pipe(map(([vals, noms]) => eras.map((era, index) => ({\n            era,\n            total: vals[index].isSome\n                ? vals[index].unwrap()[1]\n                : noms[index].unwrapOrDefault()\n        }))))\n        : of([]));\n}\nexport const ownSlash = /*#__PURE__*/ firstMemo((api, accountId, era) => api.derive.staking._ownSlashes(accountId, [era], true));\nexport const ownSlashes = /*#__PURE__*/ erasHistoricApplyAccount('_ownSlashes');\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,GAAG,EAAEC,EAAE,QAAQ,MAAM;AAC7C,SAASC,SAAS,EAAEC,IAAI,QAAQ,kBAAkB;AAClD,SAASC,wBAAwB,QAAQ,WAAW;AACpD,OAAO,SAASC,WAAWA,CAACC,UAAU,EAAEC,GAAG,EAAE;EACzC,OAAOJ,IAAI,CAACG,UAAU,EAAE,CAACE,SAAS,EAAEC,IAAI,EAAEC,WAAW,KAAKD,IAAI,CAACE,MAAM,GAC/DZ,aAAa,CAAC,CACZA,aAAa,CAACU,IAAI,CAACT,GAAG,CAAEY,CAAC,IAAKL,GAAG,CAACM,KAAK,CAACC,OAAO,CAACC,mBAAmB,CAACH,CAAC,EAAEJ,SAAS,CAAC,CAAC,CAAC,EACnFT,aAAa,CAACU,IAAI,CAACT,GAAG,CAAEY,CAAC,IAAKL,GAAG,CAACM,KAAK,CAACC,OAAO,CAACE,mBAAmB,CAACJ,CAAC,EAAEJ,SAAS,CAAC,CAAC,CAAC,CACtF,CAAC,CAACS,IAAI,CAACjB,GAAG,CAAC,CAAC,CAACkB,IAAI,EAAEC,IAAI,CAAC,KAAKV,IAAI,CAACT,GAAG,CAAC,CAACoB,GAAG,EAAEC,KAAK,MAAM;IACpDD,GAAG;IACHE,KAAK,EAAEJ,IAAI,CAACG,KAAK,CAAC,CAACE,MAAM,GACnBL,IAAI,CAACG,KAAK,CAAC,CAACG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GACvBL,IAAI,CAACE,KAAK,CAAC,CAACI,eAAe,CAAC;EACtC,CAAC,CAAC,CAAC,CAAC,CAAC,GACHxB,EAAE,CAAC,EAAE,CAAC,CAAC;AACjB;AACA,OAAO,MAAMyB,QAAQ,GAAG,aAAcxB,SAAS,CAAC,CAACK,GAAG,EAAEC,SAAS,EAAEY,GAAG,KAAKb,GAAG,CAACoB,MAAM,CAACb,OAAO,CAACT,WAAW,CAACG,SAAS,EAAE,CAACY,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;AAChI,OAAO,MAAMQ,UAAU,GAAG,aAAcxB,wBAAwB,CAAC,aAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}