{"ast":null,"code":"import { combineLatest, map, switchMap } from 'rxjs';\nimport { memo } from '../util/index.js';\nconst DEFAULT_FLAGS = {\n  withController: true,\n  withPrefs: true\n};\nexport function waitingInfo(instanceId, api) {\n  return memo(instanceId, (flags = DEFAULT_FLAGS) => combineLatest([api.derive.staking.validators(), api.derive.staking.stashes()]).pipe(switchMap(([{\n    nextElected\n  }, stashes]) => {\n    const elected = nextElected.map(a => a.toString());\n    const waiting = stashes.filter(v => !elected.includes(v.toString()));\n    return api.derive.staking.queryMulti(waiting, flags).pipe(map(info => ({\n      info,\n      waiting\n    })));\n  })));\n}","map":{"version":3,"names":["combineLatest","map","switchMap","memo","DEFAULT_FLAGS","withController","withPrefs","waitingInfo","instanceId","api","flags","derive","staking","validators","stashes","pipe","nextElected","elected","a","toString","waiting","filter","v","includes","queryMulti","info"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/staking/waitingInfo.js"],"sourcesContent":["import { combineLatest, map, switchMap } from 'rxjs';\nimport { memo } from '../util/index.js';\nconst DEFAULT_FLAGS = { withController: true, withPrefs: true };\nexport function waitingInfo(instanceId, api) {\n    return memo(instanceId, (flags = DEFAULT_FLAGS) => combineLatest([\n        api.derive.staking.validators(),\n        api.derive.staking.stashes()\n    ]).pipe(switchMap(([{ nextElected }, stashes]) => {\n        const elected = nextElected.map((a) => a.toString());\n        const waiting = stashes.filter((v) => !elected.includes(v.toString()));\n        return api.derive.staking.queryMulti(waiting, flags).pipe(map((info) => ({\n            info,\n            waiting\n        })));\n    })));\n}\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,GAAG,EAAEC,SAAS,QAAQ,MAAM;AACpD,SAASC,IAAI,QAAQ,kBAAkB;AACvC,MAAMC,aAAa,GAAG;EAAEC,cAAc,EAAE,IAAI;EAAEC,SAAS,EAAE;AAAK,CAAC;AAC/D,OAAO,SAASC,WAAWA,CAACC,UAAU,EAAEC,GAAG,EAAE;EACzC,OAAON,IAAI,CAACK,UAAU,EAAE,CAACE,KAAK,GAAGN,aAAa,KAAKJ,aAAa,CAAC,CAC7DS,GAAG,CAACE,MAAM,CAACC,OAAO,CAACC,UAAU,CAAC,CAAC,EAC/BJ,GAAG,CAACE,MAAM,CAACC,OAAO,CAACE,OAAO,CAAC,CAAC,CAC/B,CAAC,CAACC,IAAI,CAACb,SAAS,CAAC,CAAC,CAAC;IAAEc;EAAY,CAAC,EAAEF,OAAO,CAAC,KAAK;IAC9C,MAAMG,OAAO,GAAGD,WAAW,CAACf,GAAG,CAAEiB,CAAC,IAAKA,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAC;IACpD,MAAMC,OAAO,GAAGN,OAAO,CAACO,MAAM,CAAEC,CAAC,IAAK,CAACL,OAAO,CAACM,QAAQ,CAACD,CAAC,CAACH,QAAQ,CAAC,CAAC,CAAC,CAAC;IACtE,OAAOV,GAAG,CAACE,MAAM,CAACC,OAAO,CAACY,UAAU,CAACJ,OAAO,EAAEV,KAAK,CAAC,CAACK,IAAI,CAACd,GAAG,CAAEwB,IAAI,KAAM;MACrEA,IAAI;MACJL;IACJ,CAAC,CAAC,CAAC,CAAC;EACR,CAAC,CAAC,CAAC,CAAC;AACR","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}