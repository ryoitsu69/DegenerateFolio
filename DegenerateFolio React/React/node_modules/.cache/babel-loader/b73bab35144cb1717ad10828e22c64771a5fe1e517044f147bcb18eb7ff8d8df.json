{"ast":null,"code":"import SHA3 from \"js-sha3\";\nimport Nacl from \"tweetnacl\";\nimport { Buffer } from 'buffer';\nimport { hexstr } from \"../helpers/hex-string.js\";\nconst {\n  sign\n} = Nacl;\nconst {\n  sha3_256\n} = SHA3;\nexport class Account {\n  signingKey = {};\n  accountAddress = \"\";\n  accountAuthKey = \"\";\n  constructor(privateKey, address) {\n    if (privateKey) {\n      if (typeof privateKey === \"string\") {\n        privateKey = Uint8Array.from(Buffer.from(privateKey, 'hex'));\n      }\n      this.signingKey = sign.keyPair.fromSeed(privateKey.slice(0, 32));\n    } else {\n      this.signingKey = sign.keyPair();\n    }\n    this.accountAddress = hexstr(address || this.authKey()).hex();\n  }\n  privateKey() {\n    return Buffer.from(this.signingKey.secretKey).toString(\"hex\").slice(0, 64);\n  }\n  address() {\n    return this.accountAddress;\n  }\n  authKey() {\n    if (!this.accountAuthKey) {\n      let hash = sha3_256.create();\n      hash.update(Buffer.from(this.signingKey.publicKey));\n      hash.update(\"\\x00\");\n      this.accountAuthKey = hash.hex();\n    }\n    return this.accountAuthKey;\n  }\n  pubKey() {\n    return hexstr(Buffer.from(this.signingKey.publicKey).toString(\"hex\")).toString();\n  }\n  signBuffer(buffer) {\n    const signature = sign(buffer, this.signingKey.secretKey);\n    return hexstr(Buffer.from(signature).toString(\"hex\").slice(0, 128)).toString();\n  }\n  signHexString(hexString) {\n    const toSign = hexstr(hexString).toBuffer();\n    return this.signBuffer(toSign);\n  }\n  signString(str, enc = 'utf8') {\n    const toSign = Buffer.from(str, enc);\n    return this.signBuffer(toSign);\n  }\n  signObject(obj) {\n    return this.signString(JSON.stringify(obj));\n  }\n  sign() {\n    return this.signHexString(this.accountAddress).slice(2);\n  }\n  toObject() {\n    return {\n      address: this.address(),\n      publicKey: this.pubKey(),\n      authKey: this.authKey(),\n      privateKey: this.privateKey()\n    };\n  }\n}\nAccount.fromSeed = seed => new Account(seed);\nAccount.fromObject = accountObject => new Account(accountObject.privateKey);\nAccount.norm = addr => hexstr(addr);\nAccount._0x = a => {\n  if (a instanceof Account) {\n    return a.address();\n  } else if (typeof a === \"string\") {\n    return hexstr(a).toString();\n  } else if (typeof a === \"object\" && a.address) {\n    return hexstr(a.address).toString();\n  } else {\n    throw new Error(\"Value is not an Aptos address or compatible object!\");\n  }\n};\nexport const account = (...args) => new Account(...args);","map":{"version":3,"names":["SHA3","Nacl","Buffer","hexstr","sign","sha3_256","Account","signingKey","accountAddress","accountAuthKey","constructor","privateKey","address","Uint8Array","from","keyPair","fromSeed","slice","authKey","hex","secretKey","toString","hash","create","update","publicKey","pubKey","signBuffer","buffer","signature","signHexString","hexString","toSign","toBuffer","signString","str","enc","signObject","obj","JSON","stringify","toObject","seed","fromObject","accountObject","norm","addr","_0x","a","Error","account","args"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/aptos-api-master/src/account/index.js"],"sourcesContent":["import SHA3 from \"js-sha3\"\nimport Nacl from \"tweetnacl\"\nimport {Buffer} from 'buffer'\nimport {hexstr} from \"../helpers/hex-string.js\"\n\nconst {sign} = Nacl\nconst {sha3_256} = SHA3\n\nexport class Account {\n    signingKey = {}\n    accountAddress = \"\"\n    accountAuthKey = \"\"\n\n    constructor(privateKey, address){\n        if (privateKey) {\n            if (typeof privateKey === \"string\") {\n                privateKey = Uint8Array.from(Buffer.from(privateKey, 'hex'))\n            }\n            this.signingKey = sign.keyPair.fromSeed(privateKey.slice(0, 32))\n        } else {\n            this.signingKey = sign.keyPair()\n        }\n        this.accountAddress = hexstr(address || this.authKey()).hex()\n    }\n\n    privateKey(){\n        return Buffer.from(this.signingKey.secretKey).toString(\"hex\").slice(0, 64)\n    }\n\n    address(){\n        return this.accountAddress\n    }\n\n    authKey(){\n        if (!this.accountAuthKey) {\n            let hash = sha3_256.create()\n            hash.update(Buffer.from(this.signingKey.publicKey))\n            hash.update(\"\\x00\")\n            this.accountAuthKey = hash.hex()\n        }\n        return this.accountAuthKey\n    }\n\n    pubKey(){\n        return hexstr(Buffer.from(this.signingKey.publicKey).toString(\"hex\")).toString()\n    }\n\n    signBuffer(buffer){\n        const signature = sign(buffer, this.signingKey.secretKey)\n        return hexstr(Buffer.from(signature).toString(\"hex\").slice(0, 128)).toString();\n    }\n\n    signHexString(hexString){\n        const toSign = hexstr(hexString).toBuffer();\n        return this.signBuffer(toSign);\n    }\n\n    signString(str, enc = 'utf8'){\n        const toSign = Buffer.from(str, enc);\n        return this.signBuffer(toSign);\n    }\n\n    signObject(obj){\n        return this.signString(JSON.stringify(obj))\n    }\n\n    sign(){\n        return this.signHexString(this.accountAddress).slice(2)\n    }\n\n    toObject() {\n        return {\n            address: this.address(),\n            publicKey: this.pubKey(),\n            authKey: this.authKey(),\n            privateKey: this.privateKey(),\n        };\n    }\n}\n\nAccount.fromSeed = (seed) => new Account(seed)\nAccount.fromObject = (accountObject) => new Account(accountObject.privateKey)\nAccount.norm = addr => hexstr(addr)\nAccount._0x = a => {\n    if (a instanceof Account) {\n        return a.address()\n    } else if (typeof a === \"string\") {\n        return hexstr(a).toString()\n    } else if (typeof a === \"object\" && a.address) {\n        return hexstr(a.address).toString()\n    } else {\n        throw new Error(\"Value is not an Aptos address or compatible object!\")\n    }\n}\n\nexport const account = (...args) => new Account(...args)\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}