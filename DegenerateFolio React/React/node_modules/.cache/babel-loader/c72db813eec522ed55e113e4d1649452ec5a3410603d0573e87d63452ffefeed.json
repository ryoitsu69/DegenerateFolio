{"ast":null,"code":"import { stringToU8a, u8aToString } from '@polkadot/util';\nimport { Wbg } from './wbg.js';\n/**\n * @name Bridge\n * @description\n * Creates a bridge between the JS and WASM environments.\n *\n * For any bridge it is passed an function which is then called internally at the\n * time of initialization. This affectively implements the layer between WASM and\n * the native environment, providing all the plumbing needed for the Wbg classes.\n */\nexport class Bridge {\n  __internal__createWasm;\n  __internal__heap;\n  __internal__wbg;\n  __internal__cachegetInt32;\n  __internal__cachegetUint8;\n  __internal__heapNext;\n  __internal__wasm;\n  __internal__wasmError;\n  __internal__wasmPromise;\n  __internal__type;\n  constructor(createWasm) {\n    this.__internal__createWasm = createWasm;\n    this.__internal__cachegetInt32 = null;\n    this.__internal__cachegetUint8 = null;\n    this.__internal__heap = new Array(32).fill(undefined).concat(undefined, null, true, false);\n    this.__internal__heapNext = this.__internal__heap.length;\n    this.__internal__type = 'none';\n    this.__internal__wasm = null;\n    this.__internal__wasmError = null;\n    this.__internal__wasmPromise = null;\n    this.__internal__wbg = {\n      ...new Wbg(this)\n    };\n  }\n  /** @description Returns the init error */\n  get error() {\n    return this.__internal__wasmError;\n  }\n  /** @description Returns the init type */\n  get type() {\n    return this.__internal__type;\n  }\n  /** @description Returns the created wasm interface */\n  get wasm() {\n    return this.__internal__wasm;\n  }\n  /** @description Performs the wasm initialization */\n  async init(createWasm) {\n    if (!this.__internal__wasmPromise || createWasm) {\n      this.__internal__wasmPromise = (createWasm || this.__internal__createWasm)(this.__internal__wbg);\n    }\n    const {\n      error,\n      type,\n      wasm\n    } = await this.__internal__wasmPromise;\n    this.__internal__type = type;\n    this.__internal__wasm = wasm;\n    this.__internal__wasmError = error;\n    return this.__internal__wasm;\n  }\n  /**\n   * @internal\n   * @description Gets an object from the heap\n   */\n  getObject(idx) {\n    return this.__internal__heap[idx];\n  }\n  /**\n   * @internal\n   * @description Removes an object from the heap\n   */\n  dropObject(idx) {\n    if (idx < 36) {\n      return;\n    }\n    this.__internal__heap[idx] = this.__internal__heapNext;\n    this.__internal__heapNext = idx;\n  }\n  /**\n   * @internal\n   * @description Retrieves and removes an object to the heap\n   */\n  takeObject(idx) {\n    const ret = this.getObject(idx);\n    this.dropObject(idx);\n    return ret;\n  }\n  /**\n   * @internal\n   * @description Adds an object to the heap\n   */\n  addObject(obj) {\n    if (this.__internal__heapNext === this.__internal__heap.length) {\n      this.__internal__heap.push(this.__internal__heap.length + 1);\n    }\n    const idx = this.__internal__heapNext;\n    this.__internal__heapNext = this.__internal__heap[idx];\n    this.__internal__heap[idx] = obj;\n    return idx;\n  }\n  /**\n   * @internal\n   * @description Retrieve an Int32 in the WASM interface\n   */\n  getInt32() {\n    if (this.__internal__cachegetInt32 === null || this.__internal__cachegetInt32.buffer !== this.__internal__wasm.memory.buffer) {\n      this.__internal__cachegetInt32 = new Int32Array(this.__internal__wasm.memory.buffer);\n    }\n    return this.__internal__cachegetInt32;\n  }\n  /**\n   * @internal\n   * @description Retrieve an Uint8Array in the WASM interface\n   */\n  getUint8() {\n    if (this.__internal__cachegetUint8 === null || this.__internal__cachegetUint8.buffer !== this.__internal__wasm.memory.buffer) {\n      this.__internal__cachegetUint8 = new Uint8Array(this.__internal__wasm.memory.buffer);\n    }\n    return this.__internal__cachegetUint8;\n  }\n  /**\n   * @internal\n   * @description Retrieves an Uint8Array in the WASM interface\n   */\n  getU8a(ptr, len) {\n    return this.getUint8().subarray(ptr / 1, ptr / 1 + len);\n  }\n  /**\n   * @internal\n   * @description Retrieves a string in the WASM interface\n   */\n  getString(ptr, len) {\n    return u8aToString(this.getU8a(ptr, len));\n  }\n  /**\n   * @internal\n   * @description Allocates an Uint8Array in the WASM interface\n   */\n  allocU8a(arg) {\n    const ptr = this.__internal__wasm.__wbindgen_malloc(arg.length * 1);\n    this.getUint8().set(arg, ptr / 1);\n    return [ptr, arg.length];\n  }\n  /**\n   * @internal\n   * @description Allocates a string in the WASM interface\n   */\n  allocString(arg) {\n    return this.allocU8a(stringToU8a(arg));\n  }\n  /**\n   * @internal\n   * @description Retrieves an Uint8Array from the WASM interface\n   */\n  resultU8a() {\n    const r0 = this.getInt32()[8 / 4 + 0];\n    const r1 = this.getInt32()[8 / 4 + 1];\n    const ret = this.getU8a(r0, r1).slice();\n    this.__internal__wasm.__wbindgen_free(r0, r1 * 1);\n    return ret;\n  }\n  /**\n   * @internal\n   * @description Retrieve a string from the WASM interface\n   */\n  resultString() {\n    return u8aToString(this.resultU8a());\n  }\n}","map":{"version":3,"names":["stringToU8a","u8aToString","Wbg","Bridge","__internal__createWasm","__internal__heap","__internal__wbg","__internal__cachegetInt32","__internal__cachegetUint8","__internal__heapNext","__internal__wasm","__internal__wasmError","__internal__wasmPromise","__internal__type","constructor","createWasm","Array","fill","undefined","concat","length","error","type","wasm","init","getObject","idx","dropObject","takeObject","ret","addObject","obj","push","getInt32","buffer","memory","Int32Array","getUint8","Uint8Array","getU8a","ptr","len","subarray","getString","allocU8a","arg","__wbindgen_malloc","set","allocString","resultU8a","r0","r1","slice","__wbindgen_free","resultString"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/wasm-bridge/bridge.js"],"sourcesContent":["import { stringToU8a, u8aToString } from '@polkadot/util';\nimport { Wbg } from './wbg.js';\n/**\n * @name Bridge\n * @description\n * Creates a bridge between the JS and WASM environments.\n *\n * For any bridge it is passed an function which is then called internally at the\n * time of initialization. This affectively implements the layer between WASM and\n * the native environment, providing all the plumbing needed for the Wbg classes.\n */\nexport class Bridge {\n    __internal__createWasm;\n    __internal__heap;\n    __internal__wbg;\n    __internal__cachegetInt32;\n    __internal__cachegetUint8;\n    __internal__heapNext;\n    __internal__wasm;\n    __internal__wasmError;\n    __internal__wasmPromise;\n    __internal__type;\n    constructor(createWasm) {\n        this.__internal__createWasm = createWasm;\n        this.__internal__cachegetInt32 = null;\n        this.__internal__cachegetUint8 = null;\n        this.__internal__heap = new Array(32)\n            .fill(undefined)\n            .concat(undefined, null, true, false);\n        this.__internal__heapNext = this.__internal__heap.length;\n        this.__internal__type = 'none';\n        this.__internal__wasm = null;\n        this.__internal__wasmError = null;\n        this.__internal__wasmPromise = null;\n        this.__internal__wbg = { ...new Wbg(this) };\n    }\n    /** @description Returns the init error */\n    get error() {\n        return this.__internal__wasmError;\n    }\n    /** @description Returns the init type */\n    get type() {\n        return this.__internal__type;\n    }\n    /** @description Returns the created wasm interface */\n    get wasm() {\n        return this.__internal__wasm;\n    }\n    /** @description Performs the wasm initialization */\n    async init(createWasm) {\n        if (!this.__internal__wasmPromise || createWasm) {\n            this.__internal__wasmPromise = (createWasm || this.__internal__createWasm)(this.__internal__wbg);\n        }\n        const { error, type, wasm } = await this.__internal__wasmPromise;\n        this.__internal__type = type;\n        this.__internal__wasm = wasm;\n        this.__internal__wasmError = error;\n        return this.__internal__wasm;\n    }\n    /**\n     * @internal\n     * @description Gets an object from the heap\n     */\n    getObject(idx) {\n        return this.__internal__heap[idx];\n    }\n    /**\n     * @internal\n     * @description Removes an object from the heap\n     */\n    dropObject(idx) {\n        if (idx < 36) {\n            return;\n        }\n        this.__internal__heap[idx] = this.__internal__heapNext;\n        this.__internal__heapNext = idx;\n    }\n    /**\n     * @internal\n     * @description Retrieves and removes an object to the heap\n     */\n    takeObject(idx) {\n        const ret = this.getObject(idx);\n        this.dropObject(idx);\n        return ret;\n    }\n    /**\n     * @internal\n     * @description Adds an object to the heap\n     */\n    addObject(obj) {\n        if (this.__internal__heapNext === this.__internal__heap.length) {\n            this.__internal__heap.push(this.__internal__heap.length + 1);\n        }\n        const idx = this.__internal__heapNext;\n        this.__internal__heapNext = this.__internal__heap[idx];\n        this.__internal__heap[idx] = obj;\n        return idx;\n    }\n    /**\n     * @internal\n     * @description Retrieve an Int32 in the WASM interface\n     */\n    getInt32() {\n        if (this.__internal__cachegetInt32 === null || this.__internal__cachegetInt32.buffer !== this.__internal__wasm.memory.buffer) {\n            this.__internal__cachegetInt32 = new Int32Array(this.__internal__wasm.memory.buffer);\n        }\n        return this.__internal__cachegetInt32;\n    }\n    /**\n     * @internal\n     * @description Retrieve an Uint8Array in the WASM interface\n     */\n    getUint8() {\n        if (this.__internal__cachegetUint8 === null || this.__internal__cachegetUint8.buffer !== this.__internal__wasm.memory.buffer) {\n            this.__internal__cachegetUint8 = new Uint8Array(this.__internal__wasm.memory.buffer);\n        }\n        return this.__internal__cachegetUint8;\n    }\n    /**\n     * @internal\n     * @description Retrieves an Uint8Array in the WASM interface\n     */\n    getU8a(ptr, len) {\n        return this.getUint8().subarray(ptr / 1, ptr / 1 + len);\n    }\n    /**\n     * @internal\n     * @description Retrieves a string in the WASM interface\n     */\n    getString(ptr, len) {\n        return u8aToString(this.getU8a(ptr, len));\n    }\n    /**\n     * @internal\n     * @description Allocates an Uint8Array in the WASM interface\n     */\n    allocU8a(arg) {\n        const ptr = this.__internal__wasm.__wbindgen_malloc(arg.length * 1);\n        this.getUint8().set(arg, ptr / 1);\n        return [ptr, arg.length];\n    }\n    /**\n     * @internal\n     * @description Allocates a string in the WASM interface\n     */\n    allocString(arg) {\n        return this.allocU8a(stringToU8a(arg));\n    }\n    /**\n     * @internal\n     * @description Retrieves an Uint8Array from the WASM interface\n     */\n    resultU8a() {\n        const r0 = this.getInt32()[8 / 4 + 0];\n        const r1 = this.getInt32()[8 / 4 + 1];\n        const ret = this.getU8a(r0, r1).slice();\n        this.__internal__wasm.__wbindgen_free(r0, r1 * 1);\n        return ret;\n    }\n    /**\n     * @internal\n     * @description Retrieve a string from the WASM interface\n     */\n    resultString() {\n        return u8aToString(this.resultU8a());\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}