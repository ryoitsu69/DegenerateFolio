{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createStakingAminoConverters = exports.isAminoMsgUndelegate = exports.isAminoMsgBeginRedelegate = exports.isAminoMsgDelegate = exports.isAminoMsgEditValidator = exports.isAminoMsgCreateValidator = exports.protoDecimalToJson = void 0;\nconst math_1 = require(\"@cosmjs/math\");\nconst proto_signing_1 = require(\"@cosmjs/proto-signing\");\nconst utils_1 = require(\"@cosmjs/utils\");\nfunction protoDecimalToJson(decimal) {\n  const parsed = math_1.Decimal.fromAtomics(decimal, 18);\n  const [whole, fractional] = parsed.toString().split(\".\");\n  return `${whole}.${(fractional ?? \"\").padEnd(18, \"0\")}`;\n}\nexports.protoDecimalToJson = protoDecimalToJson;\nfunction jsonDecimalToProto(decimal) {\n  const parsed = math_1.Decimal.fromUserInput(decimal, 18);\n  return parsed.atomics;\n}\nfunction isAminoMsgCreateValidator(msg) {\n  return msg.type === \"cosmos-sdk/MsgCreateValidator\";\n}\nexports.isAminoMsgCreateValidator = isAminoMsgCreateValidator;\nfunction isAminoMsgEditValidator(msg) {\n  return msg.type === \"cosmos-sdk/MsgEditValidator\";\n}\nexports.isAminoMsgEditValidator = isAminoMsgEditValidator;\nfunction isAminoMsgDelegate(msg) {\n  return msg.type === \"cosmos-sdk/MsgDelegate\";\n}\nexports.isAminoMsgDelegate = isAminoMsgDelegate;\nfunction isAminoMsgBeginRedelegate(msg) {\n  return msg.type === \"cosmos-sdk/MsgBeginRedelegate\";\n}\nexports.isAminoMsgBeginRedelegate = isAminoMsgBeginRedelegate;\nfunction isAminoMsgUndelegate(msg) {\n  return msg.type === \"cosmos-sdk/MsgUndelegate\";\n}\nexports.isAminoMsgUndelegate = isAminoMsgUndelegate;\nfunction createStakingAminoConverters() {\n  return {\n    \"/cosmos.staking.v1beta1.MsgBeginRedelegate\": {\n      aminoType: \"cosmos-sdk/MsgBeginRedelegate\",\n      toAmino: ({\n        delegatorAddress,\n        validatorSrcAddress,\n        validatorDstAddress,\n        amount\n      }) => {\n        (0, utils_1.assertDefinedAndNotNull)(amount, \"missing amount\");\n        return {\n          delegator_address: delegatorAddress,\n          validator_src_address: validatorSrcAddress,\n          validator_dst_address: validatorDstAddress,\n          amount: amount\n        };\n      },\n      fromAmino: ({\n        delegator_address,\n        validator_src_address,\n        validator_dst_address,\n        amount\n      }) => ({\n        delegatorAddress: delegator_address,\n        validatorSrcAddress: validator_src_address,\n        validatorDstAddress: validator_dst_address,\n        amount: amount\n      })\n    },\n    \"/cosmos.staking.v1beta1.MsgCreateValidator\": {\n      aminoType: \"cosmos-sdk/MsgCreateValidator\",\n      toAmino: ({\n        description,\n        commission,\n        minSelfDelegation,\n        delegatorAddress,\n        validatorAddress,\n        pubkey,\n        value\n      }) => {\n        (0, utils_1.assertDefinedAndNotNull)(description, \"missing description\");\n        (0, utils_1.assertDefinedAndNotNull)(commission, \"missing commission\");\n        (0, utils_1.assertDefinedAndNotNull)(pubkey, \"missing pubkey\");\n        (0, utils_1.assertDefinedAndNotNull)(value, \"missing value\");\n        return {\n          description: {\n            moniker: description.moniker,\n            identity: description.identity,\n            website: description.website,\n            security_contact: description.securityContact,\n            details: description.details\n          },\n          commission: {\n            rate: protoDecimalToJson(commission.rate),\n            max_rate: protoDecimalToJson(commission.maxRate),\n            max_change_rate: protoDecimalToJson(commission.maxChangeRate)\n          },\n          min_self_delegation: minSelfDelegation,\n          delegator_address: delegatorAddress,\n          validator_address: validatorAddress,\n          pubkey: (0, proto_signing_1.decodePubkey)(pubkey),\n          value: value\n        };\n      },\n      fromAmino: ({\n        description,\n        commission,\n        min_self_delegation,\n        delegator_address,\n        validator_address,\n        pubkey,\n        value\n      }) => {\n        return {\n          description: {\n            moniker: description.moniker,\n            identity: description.identity,\n            website: description.website,\n            securityContact: description.security_contact,\n            details: description.details\n          },\n          commission: {\n            rate: jsonDecimalToProto(commission.rate),\n            maxRate: jsonDecimalToProto(commission.max_rate),\n            maxChangeRate: jsonDecimalToProto(commission.max_change_rate)\n          },\n          minSelfDelegation: min_self_delegation,\n          delegatorAddress: delegator_address,\n          validatorAddress: validator_address,\n          pubkey: (0, proto_signing_1.encodePubkey)(pubkey),\n          value: value\n        };\n      }\n    },\n    \"/cosmos.staking.v1beta1.MsgDelegate\": {\n      aminoType: \"cosmos-sdk/MsgDelegate\",\n      toAmino: ({\n        delegatorAddress,\n        validatorAddress,\n        amount\n      }) => {\n        (0, utils_1.assertDefinedAndNotNull)(amount, \"missing amount\");\n        return {\n          delegator_address: delegatorAddress,\n          validator_address: validatorAddress,\n          amount: amount\n        };\n      },\n      fromAmino: ({\n        delegator_address,\n        validator_address,\n        amount\n      }) => ({\n        delegatorAddress: delegator_address,\n        validatorAddress: validator_address,\n        amount: amount\n      })\n    },\n    \"/cosmos.staking.v1beta1.MsgEditValidator\": {\n      aminoType: \"cosmos-sdk/MsgEditValidator\",\n      toAmino: ({\n        description,\n        commissionRate,\n        minSelfDelegation,\n        validatorAddress\n      }) => {\n        (0, utils_1.assertDefinedAndNotNull)(description, \"missing description\");\n        return {\n          description: {\n            moniker: description.moniker,\n            identity: description.identity,\n            website: description.website,\n            security_contact: description.securityContact,\n            details: description.details\n          },\n          // empty string in the protobuf document means \"do not change\"\n          commission_rate: commissionRate ? protoDecimalToJson(commissionRate) : undefined,\n          // empty string in the protobuf document means \"do not change\"\n          min_self_delegation: minSelfDelegation ? minSelfDelegation : undefined,\n          validator_address: validatorAddress\n        };\n      },\n      fromAmino: ({\n        description,\n        commission_rate,\n        min_self_delegation,\n        validator_address\n      }) => ({\n        description: {\n          moniker: description.moniker,\n          identity: description.identity,\n          website: description.website,\n          securityContact: description.security_contact,\n          details: description.details\n        },\n        // empty string in the protobuf document means \"do not change\"\n        commissionRate: commission_rate ? jsonDecimalToProto(commission_rate) : \"\",\n        // empty string in the protobuf document means \"do not change\"\n        minSelfDelegation: min_self_delegation ?? \"\",\n        validatorAddress: validator_address\n      })\n    },\n    \"/cosmos.staking.v1beta1.MsgUndelegate\": {\n      aminoType: \"cosmos-sdk/MsgUndelegate\",\n      toAmino: ({\n        delegatorAddress,\n        validatorAddress,\n        amount\n      }) => {\n        (0, utils_1.assertDefinedAndNotNull)(amount, \"missing amount\");\n        return {\n          delegator_address: delegatorAddress,\n          validator_address: validatorAddress,\n          amount: amount\n        };\n      },\n      fromAmino: ({\n        delegator_address,\n        validator_address,\n        amount\n      }) => ({\n        delegatorAddress: delegator_address,\n        validatorAddress: validator_address,\n        amount: amount\n      })\n    }\n  };\n}\nexports.createStakingAminoConverters = createStakingAminoConverters;","map":{"version":3,"names":["math_1","require","proto_signing_1","utils_1","protoDecimalToJson","decimal","parsed","Decimal","fromAtomics","whole","fractional","toString","split","padEnd","exports","jsonDecimalToProto","fromUserInput","atomics","isAminoMsgCreateValidator","msg","type","isAminoMsgEditValidator","isAminoMsgDelegate","isAminoMsgBeginRedelegate","isAminoMsgUndelegate","createStakingAminoConverters","aminoType","toAmino","delegatorAddress","validatorSrcAddress","validatorDstAddress","amount","assertDefinedAndNotNull","delegator_address","validator_src_address","validator_dst_address","fromAmino","description","commission","minSelfDelegation","validatorAddress","pubkey","value","moniker","identity","website","security_contact","securityContact","details","rate","max_rate","maxRate","max_change_rate","maxChangeRate","min_self_delegation","validator_address","decodePubkey","encodePubkey","commissionRate","commission_rate","undefined"],"sources":["../../../src/modules/staking/aminomessages.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}