{"ast":null,"code":"import { map, of } from 'rxjs';\nimport { isU8a } from '@polkadot/util';\nimport { decodeAddress } from '@polkadot/util-crypto';\nimport { memo } from '../util/index.js';\n/**\n * @name idAndIndex\n * @param {(Address | AccountId | AccountIndex | Uint8Array | string | null)} address - An accounts address in various formats.\n * @description  An array containing the [[AccountId]] and [[AccountIndex]] as optional values.\n * @example\n * <BR>\n *\n * ```javascript\n * api.derive.accounts.idAndIndex('F7Hs', ([id, ix]) => {\n *   console.log(`AccountId #${id} with corresponding AccountIndex ${ix}`);\n * });\n * ```\n */\nexport function idAndIndex(instanceId, api) {\n  return memo(instanceId, address => {\n    try {\n      // yes, this can fail, don't care too much, catch will catch it\n      const decoded = isU8a(address) ? address : decodeAddress((address || '').toString());\n      if (decoded.length > 8) {\n        const accountId = api.registry.createType('AccountId', decoded);\n        return api.derive.accounts.idToIndex(accountId).pipe(map(accountIndex => [accountId, accountIndex]));\n      }\n      const accountIndex = api.registry.createType('AccountIndex', decoded);\n      return api.derive.accounts.indexToId(accountIndex.toString()).pipe(map(accountId => [accountId, accountIndex]));\n    } catch {\n      return of([undefined, undefined]);\n    }\n  });\n}","map":{"version":3,"names":["map","of","isU8a","decodeAddress","memo","idAndIndex","instanceId","api","address","decoded","toString","length","accountId","registry","createType","derive","accounts","idToIndex","pipe","accountIndex","indexToId","undefined"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/accounts/idAndIndex.js"],"sourcesContent":["import { map, of } from 'rxjs';\nimport { isU8a } from '@polkadot/util';\nimport { decodeAddress } from '@polkadot/util-crypto';\nimport { memo } from '../util/index.js';\n/**\n * @name idAndIndex\n * @param {(Address | AccountId | AccountIndex | Uint8Array | string | null)} address - An accounts address in various formats.\n * @description  An array containing the [[AccountId]] and [[AccountIndex]] as optional values.\n * @example\n * <BR>\n *\n * ```javascript\n * api.derive.accounts.idAndIndex('F7Hs', ([id, ix]) => {\n *   console.log(`AccountId #${id} with corresponding AccountIndex ${ix}`);\n * });\n * ```\n */\nexport function idAndIndex(instanceId, api) {\n    return memo(instanceId, (address) => {\n        try {\n            // yes, this can fail, don't care too much, catch will catch it\n            const decoded = isU8a(address)\n                ? address\n                : decodeAddress((address || '').toString());\n            if (decoded.length > 8) {\n                const accountId = api.registry.createType('AccountId', decoded);\n                return api.derive.accounts.idToIndex(accountId).pipe(map((accountIndex) => [accountId, accountIndex]));\n            }\n            const accountIndex = api.registry.createType('AccountIndex', decoded);\n            return api.derive.accounts.indexToId(accountIndex.toString()).pipe(map((accountId) => [accountId, accountIndex]));\n        }\n        catch {\n            return of([undefined, undefined]);\n        }\n    });\n}\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,EAAE,QAAQ,MAAM;AAC9B,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,aAAa,QAAQ,uBAAuB;AACrD,SAASC,IAAI,QAAQ,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,UAAUA,CAACC,UAAU,EAAEC,GAAG,EAAE;EACxC,OAAOH,IAAI,CAACE,UAAU,EAAGE,OAAO,IAAK;IACjC,IAAI;MACA;MACA,MAAMC,OAAO,GAAGP,KAAK,CAACM,OAAO,CAAC,GACxBA,OAAO,GACPL,aAAa,CAAC,CAACK,OAAO,IAAI,EAAE,EAAEE,QAAQ,CAAC,CAAC,CAAC;MAC/C,IAAID,OAAO,CAACE,MAAM,GAAG,CAAC,EAAE;QACpB,MAAMC,SAAS,GAAGL,GAAG,CAACM,QAAQ,CAACC,UAAU,CAAC,WAAW,EAAEL,OAAO,CAAC;QAC/D,OAAOF,GAAG,CAACQ,MAAM,CAACC,QAAQ,CAACC,SAAS,CAACL,SAAS,CAAC,CAACM,IAAI,CAAClB,GAAG,CAAEmB,YAAY,IAAK,CAACP,SAAS,EAAEO,YAAY,CAAC,CAAC,CAAC;MAC1G;MACA,MAAMA,YAAY,GAAGZ,GAAG,CAACM,QAAQ,CAACC,UAAU,CAAC,cAAc,EAAEL,OAAO,CAAC;MACrE,OAAOF,GAAG,CAACQ,MAAM,CAACC,QAAQ,CAACI,SAAS,CAACD,YAAY,CAACT,QAAQ,CAAC,CAAC,CAAC,CAACQ,IAAI,CAAClB,GAAG,CAAEY,SAAS,IAAK,CAACA,SAAS,EAAEO,YAAY,CAAC,CAAC,CAAC;IACrH,CAAC,CACD,MAAM;MACF,OAAOlB,EAAE,CAAC,CAACoB,SAAS,EAAEA,SAAS,CAAC,CAAC;IACrC;EACJ,CAAC,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}