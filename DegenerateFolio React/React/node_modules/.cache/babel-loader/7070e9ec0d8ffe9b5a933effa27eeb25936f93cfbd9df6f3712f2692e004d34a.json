{"ast":null,"code":"import { secp256k1 } from '@noble/curves/secp256k1';\nimport { hasBigInt, u8aToU8a } from '@polkadot/util';\nimport { isReady, secp256k1Recover as wasm } from '@polkadot/wasm-crypto';\nimport { secp256k1Compress } from './compress.js';\nimport { secp256k1Expand } from './expand.js';\n/**\n * @name secp256k1Recover\n * @description Recovers a publicKey from the supplied signature\n */\nexport function secp256k1Recover(msgHash, signature, recovery, hashType = 'blake2', onlyJs) {\n  const sig = u8aToU8a(signature).subarray(0, 64);\n  const msg = u8aToU8a(msgHash);\n  const publicKey = !hasBigInt || !onlyJs && isReady() ? wasm(msg, sig, recovery) : secp256k1.Signature.fromCompact(sig).addRecoveryBit(recovery).recoverPublicKey(msg).toRawBytes();\n  if (!publicKey) {\n    throw new Error('Unable to recover publicKey from signature');\n  }\n  return hashType === 'keccak' ? secp256k1Expand(publicKey, onlyJs) : secp256k1Compress(publicKey, onlyJs);\n}","map":{"version":3,"names":["secp256k1","hasBigInt","u8aToU8a","isReady","secp256k1Recover","wasm","secp256k1Compress","secp256k1Expand","msgHash","signature","recovery","hashType","onlyJs","sig","subarray","msg","publicKey","Signature","fromCompact","addRecoveryBit","recoverPublicKey","toRawBytes","Error"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/util-crypto/secp256k1/recover.js"],"sourcesContent":["import { secp256k1 } from '@noble/curves/secp256k1';\nimport { hasBigInt, u8aToU8a } from '@polkadot/util';\nimport { isReady, secp256k1Recover as wasm } from '@polkadot/wasm-crypto';\nimport { secp256k1Compress } from './compress.js';\nimport { secp256k1Expand } from './expand.js';\n/**\n * @name secp256k1Recover\n * @description Recovers a publicKey from the supplied signature\n */\nexport function secp256k1Recover(msgHash, signature, recovery, hashType = 'blake2', onlyJs) {\n    const sig = u8aToU8a(signature).subarray(0, 64);\n    const msg = u8aToU8a(msgHash);\n    const publicKey = !hasBigInt || (!onlyJs && isReady())\n        ? wasm(msg, sig, recovery)\n        : secp256k1.Signature\n            .fromCompact(sig)\n            .addRecoveryBit(recovery)\n            .recoverPublicKey(msg)\n            .toRawBytes();\n    if (!publicKey) {\n        throw new Error('Unable to recover publicKey from signature');\n    }\n    return hashType === 'keccak'\n        ? secp256k1Expand(publicKey, onlyJs)\n        : secp256k1Compress(publicKey, onlyJs);\n}\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,yBAAyB;AACnD,SAASC,SAAS,EAAEC,QAAQ,QAAQ,gBAAgB;AACpD,SAASC,OAAO,EAAEC,gBAAgB,IAAIC,IAAI,QAAQ,uBAAuB;AACzE,SAASC,iBAAiB,QAAQ,eAAe;AACjD,SAASC,eAAe,QAAQ,aAAa;AAC7C;AACA;AACA;AACA;AACA,OAAO,SAASH,gBAAgBA,CAACI,OAAO,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,QAAQ,GAAG,QAAQ,EAAEC,MAAM,EAAE;EACxF,MAAMC,GAAG,GAAGX,QAAQ,CAACO,SAAS,CAAC,CAACK,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC;EAC/C,MAAMC,GAAG,GAAGb,QAAQ,CAACM,OAAO,CAAC;EAC7B,MAAMQ,SAAS,GAAG,CAACf,SAAS,IAAK,CAACW,MAAM,IAAIT,OAAO,CAAC,CAAE,GAChDE,IAAI,CAACU,GAAG,EAAEF,GAAG,EAAEH,QAAQ,CAAC,GACxBV,SAAS,CAACiB,SAAS,CAChBC,WAAW,CAACL,GAAG,CAAC,CAChBM,cAAc,CAACT,QAAQ,CAAC,CACxBU,gBAAgB,CAACL,GAAG,CAAC,CACrBM,UAAU,CAAC,CAAC;EACrB,IAAI,CAACL,SAAS,EAAE;IACZ,MAAM,IAAIM,KAAK,CAAC,4CAA4C,CAAC;EACjE;EACA,OAAOX,QAAQ,KAAK,QAAQ,GACtBJ,eAAe,CAACS,SAAS,EAAEJ,MAAM,CAAC,GAClCN,iBAAiB,CAACU,SAAS,EAAEJ,MAAM,CAAC;AAC9C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}