{"ast":null,"code":"import { map } from 'rxjs';\nimport { objectSpread } from '@polkadot/util';\nimport { memo } from '../util/index.js';\n/**\n * @description Retrieves all the session and era query and calculates specific values on it as the length of the session and eras\n */\nexport function info(instanceId, api) {\n  return memo(instanceId, () => api.derive.session.indexes().pipe(map(indexes => {\n    var _api$consts, _api$consts2;\n    const sessionLength = ((_api$consts = api.consts) === null || _api$consts === void 0 || (_api$consts = _api$consts.babe) === null || _api$consts === void 0 ? void 0 : _api$consts.epochDuration) || api.registry.createType('u64', 1);\n    const sessionsPerEra = ((_api$consts2 = api.consts) === null || _api$consts2 === void 0 || (_api$consts2 = _api$consts2.staking) === null || _api$consts2 === void 0 ? void 0 : _api$consts2.sessionsPerEra) || api.registry.createType('SessionIndex', 1);\n    return objectSpread({\n      eraLength: api.registry.createType('BlockNumber', sessionsPerEra.mul(sessionLength)),\n      isEpoch: !!api.query.babe,\n      sessionLength,\n      sessionsPerEra\n    }, indexes);\n  })));\n}","map":{"version":3,"names":["map","objectSpread","memo","info","instanceId","api","derive","session","indexes","pipe","_api$consts","_api$consts2","sessionLength","consts","babe","epochDuration","registry","createType","sessionsPerEra","staking","eraLength","mul","isEpoch","query"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/session/info.js"],"sourcesContent":["import { map } from 'rxjs';\nimport { objectSpread } from '@polkadot/util';\nimport { memo } from '../util/index.js';\n/**\n * @description Retrieves all the session and era query and calculates specific values on it as the length of the session and eras\n */\nexport function info(instanceId, api) {\n    return memo(instanceId, () => api.derive.session.indexes().pipe(map((indexes) => {\n        const sessionLength = api.consts?.babe?.epochDuration || api.registry.createType('u64', 1);\n        const sessionsPerEra = api.consts?.staking?.sessionsPerEra || api.registry.createType('SessionIndex', 1);\n        return objectSpread({\n            eraLength: api.registry.createType('BlockNumber', sessionsPerEra.mul(sessionLength)),\n            isEpoch: !!api.query.babe,\n            sessionLength,\n            sessionsPerEra\n        }, indexes);\n    })));\n}\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,MAAM;AAC1B,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,SAASC,IAAI,QAAQ,kBAAkB;AACvC;AACA;AACA;AACA,OAAO,SAASC,IAAIA,CAACC,UAAU,EAAEC,GAAG,EAAE;EAClC,OAAOH,IAAI,CAACE,UAAU,EAAE,MAAMC,GAAG,CAACC,MAAM,CAACC,OAAO,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAACT,GAAG,CAAEQ,OAAO,IAAK;IAAA,IAAAE,WAAA,EAAAC,YAAA;IAC7E,MAAMC,aAAa,GAAG,EAAAF,WAAA,GAAAL,GAAG,CAACQ,MAAM,cAAAH,WAAA,gBAAAA,WAAA,GAAVA,WAAA,CAAYI,IAAI,cAAAJ,WAAA,uBAAhBA,WAAA,CAAkBK,aAAa,KAAIV,GAAG,CAACW,QAAQ,CAACC,UAAU,CAAC,KAAK,EAAE,CAAC,CAAC;IAC1F,MAAMC,cAAc,GAAG,EAAAP,YAAA,GAAAN,GAAG,CAACQ,MAAM,cAAAF,YAAA,gBAAAA,YAAA,GAAVA,YAAA,CAAYQ,OAAO,cAAAR,YAAA,uBAAnBA,YAAA,CAAqBO,cAAc,KAAIb,GAAG,CAACW,QAAQ,CAACC,UAAU,CAAC,cAAc,EAAE,CAAC,CAAC;IACxG,OAAOhB,YAAY,CAAC;MAChBmB,SAAS,EAAEf,GAAG,CAACW,QAAQ,CAACC,UAAU,CAAC,aAAa,EAAEC,cAAc,CAACG,GAAG,CAACT,aAAa,CAAC,CAAC;MACpFU,OAAO,EAAE,CAAC,CAACjB,GAAG,CAACkB,KAAK,CAACT,IAAI;MACzBF,aAAa;MACbM;IACJ,CAAC,EAAEV,OAAO,CAAC;EACf,CAAC,CAAC,CAAC,CAAC;AACR","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}