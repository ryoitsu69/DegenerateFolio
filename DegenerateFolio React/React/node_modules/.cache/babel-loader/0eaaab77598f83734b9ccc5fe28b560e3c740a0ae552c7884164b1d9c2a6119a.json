{"ast":null,"code":"\"use strict\";\n\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isFilterObject = void 0;\nconst address_js_1 = require(\"./address.js\");\nconst block_js_1 = require(\"./block.js\");\nconst object_js_1 = require(\"./object.js\");\nconst topic_js_1 = require(\"./topic.js\");\n/**\n * First we check if all properties in the provided value are expected,\n * then because all Filter properties are optional, we check if the expected properties\n * are defined. If defined and they're not the expected type, we immediately return false,\n * otherwise we return true after all checks pass.\n */\nconst isFilterObject = value => {\n  const expectedFilterProperties = ['fromBlock', 'toBlock', 'address', 'topics', 'blockHash'];\n  if ((0, object_js_1.isNullish)(value) || typeof value !== 'object') return false;\n  if (!Object.keys(value).every(property => expectedFilterProperties.includes(property))) return false;\n  if (!(0, object_js_1.isNullish)(value.fromBlock) && !(0, block_js_1.isBlockNumberOrTag)(value.fromBlock) || !(0, object_js_1.isNullish)(value.toBlock) && !(0, block_js_1.isBlockNumberOrTag)(value.toBlock)) return false;\n  if (!(0, object_js_1.isNullish)(value.address)) {\n    if (Array.isArray(value.address)) {\n      if (!value.address.every(address => (0, address_js_1.isAddress)(address))) return false;\n    } else if (!(0, address_js_1.isAddress)(value.address)) return false;\n  }\n  if (!(0, object_js_1.isNullish)(value.topics)) {\n    if (!value.topics.every(topic => {\n      if ((0, object_js_1.isNullish)(topic)) return true;\n      if (Array.isArray(topic)) {\n        return topic.every(nestedTopic => (0, topic_js_1.isTopic)(nestedTopic));\n      }\n      if ((0, topic_js_1.isTopic)(topic)) return true;\n      return false;\n    })) return false;\n  }\n  return true;\n};\nexports.isFilterObject = isFilterObject;","map":{"version":3,"names":["address_js_1","require","block_js_1","object_js_1","topic_js_1","isFilterObject","value","expectedFilterProperties","isNullish","Object","keys","every","property","includes","fromBlock","isBlockNumberOrTag","toBlock","address","Array","isArray","isAddress","topics","topic","nestedTopic","isTopic","exports"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/web3-validator/src/validation/filter.ts"],"sourcesContent":["ï»¿/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nimport { Filter } from 'web3-types';\nimport { isAddress } from './address.js';\nimport { isBlockNumberOrTag } from './block.js';\nimport { isNullish } from './object.js';\nimport { isTopic } from './topic.js';\n\n/**\n * First we check if all properties in the provided value are expected,\n * then because all Filter properties are optional, we check if the expected properties\n * are defined. If defined and they're not the expected type, we immediately return false,\n * otherwise we return true after all checks pass.\n */\nexport const isFilterObject = (value: Filter) => {\n\tconst expectedFilterProperties: (keyof Filter)[] = [\n\t\t'fromBlock',\n\t\t'toBlock',\n\t\t'address',\n\t\t'topics',\n\t\t'blockHash',\n\t];\n\tif (isNullish(value) || typeof value !== 'object') return false;\n\n\tif (\n\t\t!Object.keys(value).every(property =>\n\t\t\texpectedFilterProperties.includes(property as keyof Filter),\n\t\t)\n\t)\n\t\treturn false;\n\n\tif (\n\t\t(!isNullish(value.fromBlock) && !isBlockNumberOrTag(value.fromBlock)) ||\n\t\t(!isNullish(value.toBlock) && !isBlockNumberOrTag(value.toBlock))\n\t)\n\t\treturn false;\n\n\tif (!isNullish(value.address)) {\n\t\tif (Array.isArray(value.address)) {\n\t\t\tif (!value.address.every(address => isAddress(address))) return false;\n\t\t} else if (!isAddress(value.address)) return false;\n\t}\n\n\tif (!isNullish(value.topics)) {\n\t\tif (\n\t\t\t!value.topics.every(topic => {\n\t\t\t\tif (isNullish(topic)) return true;\n\n\t\t\t\tif (Array.isArray(topic)) {\n\t\t\t\t\treturn topic.every(nestedTopic => isTopic(nestedTopic));\n\t\t\t\t}\n\n\t\t\t\tif (isTopic(topic)) return true;\n\n\t\t\t\treturn false;\n\t\t\t})\n\t\t)\n\t\t\treturn false;\n\t}\n\n\treturn true;\n};\n"],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;;;AAkBA,MAAAA,YAAA,GAAAC,OAAA;AACA,MAAAC,UAAA,GAAAD,OAAA;AACA,MAAAE,WAAA,GAAAF,OAAA;AACA,MAAAG,UAAA,GAAAH,OAAA;AAEA;;;;;;AAMO,MAAMI,cAAc,GAAIC,KAAa,IAAI;EAC/C,MAAMC,wBAAwB,GAAqB,CAClD,WAAW,EACX,SAAS,EACT,SAAS,EACT,QAAQ,EACR,WAAW,CACX;EACD,IAAI,IAAAJ,WAAA,CAAAK,SAAS,EAACF,KAAK,CAAC,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE,OAAO,KAAK;EAE/D,IACC,CAACG,MAAM,CAACC,IAAI,CAACJ,KAAK,CAAC,CAACK,KAAK,CAACC,QAAQ,IACjCL,wBAAwB,CAACM,QAAQ,CAACD,QAAwB,CAAC,CAC3D,EAED,OAAO,KAAK;EAEb,IACE,CAAC,IAAAT,WAAA,CAAAK,SAAS,EAACF,KAAK,CAACQ,SAAS,CAAC,IAAI,CAAC,IAAAZ,UAAA,CAAAa,kBAAkB,EAACT,KAAK,CAACQ,SAAS,CAAC,IACnE,CAAC,IAAAX,WAAA,CAAAK,SAAS,EAACF,KAAK,CAACU,OAAO,CAAC,IAAI,CAAC,IAAAd,UAAA,CAAAa,kBAAkB,EAACT,KAAK,CAACU,OAAO,CAAE,EAEjE,OAAO,KAAK;EAEb,IAAI,CAAC,IAAAb,WAAA,CAAAK,SAAS,EAACF,KAAK,CAACW,OAAO,CAAC,EAAE;IAC9B,IAAIC,KAAK,CAACC,OAAO,CAACb,KAAK,CAACW,OAAO,CAAC,EAAE;MACjC,IAAI,CAACX,KAAK,CAACW,OAAO,CAACN,KAAK,CAACM,OAAO,IAAI,IAAAjB,YAAA,CAAAoB,SAAS,EAACH,OAAO,CAAC,CAAC,EAAE,OAAO,KAAK;KACrE,MAAM,IAAI,CAAC,IAAAjB,YAAA,CAAAoB,SAAS,EAACd,KAAK,CAACW,OAAO,CAAC,EAAE,OAAO,KAAK;;EAGnD,IAAI,CAAC,IAAAd,WAAA,CAAAK,SAAS,EAACF,KAAK,CAACe,MAAM,CAAC,EAAE;IAC7B,IACC,CAACf,KAAK,CAACe,MAAM,CAACV,KAAK,CAACW,KAAK,IAAG;MAC3B,IAAI,IAAAnB,WAAA,CAAAK,SAAS,EAACc,KAAK,CAAC,EAAE,OAAO,IAAI;MAEjC,IAAIJ,KAAK,CAACC,OAAO,CAACG,KAAK,CAAC,EAAE;QACzB,OAAOA,KAAK,CAACX,KAAK,CAACY,WAAW,IAAI,IAAAnB,UAAA,CAAAoB,OAAO,EAACD,WAAW,CAAC,CAAC;;MAGxD,IAAI,IAAAnB,UAAA,CAAAoB,OAAO,EAACF,KAAK,CAAC,EAAE,OAAO,IAAI;MAE/B,OAAO,KAAK;IACb,CAAC,CAAC,EAEF,OAAO,KAAK;;EAGd,OAAO,IAAI;AACZ,CAAC;AA/CYG,OAAA,CAAApB,cAAc,GAAAA,cAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}