{"ast":null,"code":"import { lazyDeriveSection } from './util/index.js';\nimport { derive } from './derive.js';\nexport * from './derive.js';\nexport * from './type/index.js';\nexport { lazyDeriveSection };\nconst checks = {\n  allianceMotion: {\n    instances: ['allianceMotion'],\n    methods: []\n  },\n  bagsList: {\n    instances: ['voterBagsList', 'voterList', 'bagsList'],\n    methods: [],\n    withDetect: true\n  },\n  contracts: {\n    instances: ['contracts'],\n    methods: []\n  },\n  council: {\n    instances: ['council'],\n    methods: [],\n    withDetect: true\n  },\n  crowdloan: {\n    instances: ['crowdloan'],\n    methods: []\n  },\n  democracy: {\n    instances: ['democracy'],\n    methods: []\n  },\n  elections: {\n    instances: ['phragmenElection', 'electionsPhragmen', 'elections', 'council'],\n    methods: [],\n    withDetect: true\n  },\n  imOnline: {\n    instances: ['imOnline'],\n    methods: []\n  },\n  membership: {\n    instances: ['membership'],\n    methods: []\n  },\n  parachains: {\n    instances: ['parachains', 'registrar'],\n    methods: []\n  },\n  session: {\n    instances: ['session'],\n    methods: []\n  },\n  society: {\n    instances: ['society'],\n    methods: []\n  },\n  staking: {\n    instances: ['staking'],\n    methods: ['erasRewardPoints']\n  },\n  technicalCommittee: {\n    instances: ['technicalCommittee'],\n    methods: [],\n    withDetect: true\n  },\n  treasury: {\n    instances: ['treasury'],\n    methods: []\n  }\n};\nfunction getModuleInstances(api, specName, moduleName) {\n  return api.registry.getModuleInstances(specName, moduleName) || [];\n}\n/**\n * Returns an object that will inject `api` into all the functions inside\n * `allSections`, and keep the object architecture of `allSections`.\n */\n/** @internal */\nfunction injectFunctions(instanceId, api, derives) {\n  const result = {};\n  const names = Object.keys(derives);\n  const keys = Object.keys(api.query);\n  const specName = api.runtimeVersion.specName;\n  const filterKeys = q => keys.includes(q);\n  const filterInstances = q => getModuleInstances(api, specName, q).some(filterKeys);\n  const filterMethods = all => m => all.some(q => keys.includes(q) && api.query[q][m]);\n  const getKeys = s => Object.keys(derives[s]);\n  const creator = (s, m) => derives[s][m](instanceId, api);\n  const isIncluded = c => !checks[c] || checks[c].instances.some(filterKeys) && (!checks[c].methods.length || checks[c].methods.every(filterMethods(checks[c].instances))) || checks[c].withDetect && checks[c].instances.some(filterInstances);\n  for (let i = 0, count = names.length; i < count; i++) {\n    const name = names[i];\n    isIncluded(name) && lazyDeriveSection(result, name, getKeys, creator);\n  }\n  return result;\n}\n/** @internal */\nexport function getAvailableDerives(instanceId, api) {\n  let custom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return {\n    ...injectFunctions(instanceId, api, derive),\n    ...injectFunctions(instanceId, api, custom)\n  };\n}","map":{"version":3,"names":["lazyDeriveSection","derive","checks","allianceMotion","instances","methods","bagsList","withDetect","contracts","council","crowdloan","democracy","elections","imOnline","membership","parachains","session","society","staking","technicalCommittee","treasury","getModuleInstances","api","specName","moduleName","registry","injectFunctions","instanceId","derives","result","names","Object","keys","query","runtimeVersion","filterKeys","q","includes","filterInstances","some","filterMethods","all","m","getKeys","s","creator","isIncluded","c","length","every","i","count","name","getAvailableDerives","custom","arguments","undefined"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/bundle.js"],"sourcesContent":["import { lazyDeriveSection } from './util/index.js';\nimport { derive } from './derive.js';\nexport * from './derive.js';\nexport * from './type/index.js';\nexport { lazyDeriveSection };\nconst checks = {\n    allianceMotion: {\n        instances: ['allianceMotion'],\n        methods: []\n    },\n    bagsList: {\n        instances: ['voterBagsList', 'voterList', 'bagsList'],\n        methods: [],\n        withDetect: true\n    },\n    contracts: {\n        instances: ['contracts'],\n        methods: []\n    },\n    council: {\n        instances: ['council'],\n        methods: [],\n        withDetect: true\n    },\n    crowdloan: {\n        instances: ['crowdloan'],\n        methods: []\n    },\n    democracy: {\n        instances: ['democracy'],\n        methods: []\n    },\n    elections: {\n        instances: ['phragmenElection', 'electionsPhragmen', 'elections', 'council'],\n        methods: [],\n        withDetect: true\n    },\n    imOnline: {\n        instances: ['imOnline'],\n        methods: []\n    },\n    membership: {\n        instances: ['membership'],\n        methods: []\n    },\n    parachains: {\n        instances: ['parachains', 'registrar'],\n        methods: []\n    },\n    session: {\n        instances: ['session'],\n        methods: []\n    },\n    society: {\n        instances: ['society'],\n        methods: []\n    },\n    staking: {\n        instances: ['staking'],\n        methods: ['erasRewardPoints']\n    },\n    technicalCommittee: {\n        instances: ['technicalCommittee'],\n        methods: [],\n        withDetect: true\n    },\n    treasury: {\n        instances: ['treasury'],\n        methods: []\n    }\n};\nfunction getModuleInstances(api, specName, moduleName) {\n    return api.registry.getModuleInstances(specName, moduleName) || [];\n}\n/**\n * Returns an object that will inject `api` into all the functions inside\n * `allSections`, and keep the object architecture of `allSections`.\n */\n/** @internal */\nfunction injectFunctions(instanceId, api, derives) {\n    const result = {};\n    const names = Object.keys(derives);\n    const keys = Object.keys(api.query);\n    const specName = api.runtimeVersion.specName;\n    const filterKeys = (q) => keys.includes(q);\n    const filterInstances = (q) => getModuleInstances(api, specName, q).some(filterKeys);\n    const filterMethods = (all) => (m) => all.some((q) => keys.includes(q) && api.query[q][m]);\n    const getKeys = (s) => Object.keys(derives[s]);\n    const creator = (s, m) => derives[s][m](instanceId, api);\n    const isIncluded = (c) => (!checks[c] || ((checks[c].instances.some(filterKeys) && (!checks[c].methods.length ||\n        checks[c].methods.every(filterMethods(checks[c].instances)))) ||\n        (checks[c].withDetect &&\n            checks[c].instances.some(filterInstances))));\n    for (let i = 0, count = names.length; i < count; i++) {\n        const name = names[i];\n        isIncluded(name) &&\n            lazyDeriveSection(result, name, getKeys, creator);\n    }\n    return result;\n}\n/** @internal */\nexport function getAvailableDerives(instanceId, api, custom = {}) {\n    return {\n        ...injectFunctions(instanceId, api, derive),\n        ...injectFunctions(instanceId, api, custom)\n    };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}