{"ast":null,"code":"\"use strict\";\n\nconst valuesToIterateForKeys = [\"_fontFamily\", \"_fontStyle\", \"_fontSize\", \"_fontVariant\", \"_fontWeight\", \"_breakWords\", \"_align\", \"_leading\", \"_letterSpacing\", \"_lineHeight\", \"_textBaseline\", \"_whiteSpace\", \"_wordWrap\", \"_wordWrapWidth\", \"_padding\", \"_cssOverrides\", \"_trim\"];\nfunction generateTextStyleKey(style) {\n  const key = [];\n  let index = 0;\n  for (let i = 0; i < valuesToIterateForKeys.length; i++) {\n    const prop = valuesToIterateForKeys[i];\n    key[index++] = style[prop];\n  }\n  index = addFillStyleKey(style._fill, key, index);\n  index = addStokeStyleKey(style._stroke, key, index);\n  return key.join(\"-\");\n}\nfunction addFillStyleKey(fillStyle, key, index) {\n  if (!fillStyle) return index;\n  key[index++] = fillStyle.color;\n  key[index++] = fillStyle.alpha;\n  key[index++] = fillStyle.fill?.uid;\n  return index;\n}\nfunction addStokeStyleKey(strokeStyle, key, index) {\n  if (!strokeStyle) return index;\n  index = addFillStyleKey(strokeStyle, key, index);\n  key[index++] = strokeStyle.width;\n  key[index++] = strokeStyle.alignment;\n  key[index++] = strokeStyle.cap;\n  key[index++] = strokeStyle.join;\n  key[index++] = strokeStyle.miterLimit;\n  return index;\n}\nexport { generateTextStyleKey };","map":{"version":3,"names":["valuesToIterateForKeys","generateTextStyleKey","style","key","index","i","length","prop","addFillStyleKey","_fill","addStokeStyleKey","_stroke","join","fillStyle","color","alpha","fill","uid","strokeStyle","width","alignment","cap","miterLimit"],"sources":["/home/ryoitsu/node_modules/pixi.js/src/scene/text/utils/generateTextStyleKey.ts"],"sourcesContent":["import type { FillGradient } from '../../graphics/shared/fill/FillGradient';\nimport type { ConvertedFillStyle, ConvertedStrokeStyle } from '../../graphics/shared/GraphicsContext';\nimport type { TextStyle } from '../TextStyle';\n\nconst valuesToIterateForKeys = [\n    '_fontFamily',\n    '_fontStyle',\n    '_fontSize',\n    '_fontVariant',\n    '_fontWeight',\n    '_breakWords',\n    '_align',\n    '_leading',\n    '_letterSpacing',\n    '_lineHeight',\n    '_textBaseline',\n    '_whiteSpace',\n    '_wordWrap',\n    '_wordWrapWidth',\n    '_padding',\n    '_cssOverrides',\n    '_trim'\n];\n\n/**\n * Generates a unique key for the text style.\n * @param style - The style to generate a key for.\n * @returns the key for the style.\n */\nexport function generateTextStyleKey(style: TextStyle): string\n{\n    const key = [];\n\n    let index = 0;\n\n    for (let i = 0; i < valuesToIterateForKeys.length; i++)\n    {\n        const prop = valuesToIterateForKeys[i];\n\n        key[index++] = style[prop as keyof typeof style];\n    }\n\n    index = addFillStyleKey(style._fill, key as string[], index);\n    index = addStokeStyleKey(style._stroke, key as string[], index);\n\n    // TODO - we need to add some shadow stuff here!\n\n    return key.join('-');\n}\n\nfunction addFillStyleKey(fillStyle: ConvertedFillStyle, key: (number | string)[], index: number)\n{\n    if (!fillStyle) return index;\n\n    key[index++] = fillStyle.color;\n    key[index++] = fillStyle.alpha;\n    key[index++] = (fillStyle.fill as FillGradient)?.uid;\n\n    return index;\n}\n\nfunction addStokeStyleKey(strokeStyle: ConvertedStrokeStyle, key: (number | string)[], index: number)\n{\n    if (!strokeStyle) return index;\n\n    index = addFillStyleKey(strokeStyle, key, index);\n\n    key[index++] = strokeStyle.width;\n    key[index++] = strokeStyle.alignment;\n    key[index++] = strokeStyle.cap;\n    key[index++] = strokeStyle.join;\n    key[index++] = strokeStyle.miterLimit;\n\n    return index;\n}\n"],"mappings":";;AAIA,MAAMA,sBAAyB,IAC3B,eACA,cACA,aACA,gBACA,eACA,eACA,UACA,YACA,kBACA,eACA,iBACA,eACA,aACA,kBACA,YACA,iBACA,QACJ;AAOO,SAASC,qBAAqBC,KACrC;EACI,MAAMC,GAAA,GAAM,EAAC;EAEb,IAAIC,KAAQ;EAEZ,SAASC,CAAI,MAAGA,CAAI,GAAAL,sBAAA,CAAuBM,MAAA,EAAQD,CACnD;IACU,MAAAE,IAAA,GAAOP,sBAAA,CAAuBK,CAAC;IAEjCF,GAAA,CAAAC,KAAA,EAAO,CAAI,GAAAF,KAAA,CAAMK,IAA0B;EAAA;EAGnDH,KAAA,GAAQI,eAAgB,CAAAN,KAAA,CAAMO,KAAO,EAAAN,GAAA,EAAiBC,KAAK;EAC3DA,KAAA,GAAQM,gBAAiB,CAAAR,KAAA,CAAMS,OAAS,EAAAR,GAAA,EAAiBC,KAAK;EAIvD,OAAAD,GAAA,CAAIS,IAAA,CAAK,GAAG;AACvB;AAEA,SAASJ,gBAAgBK,SAA+B,EAAAV,GAAA,EAA0BC,KAClF;EACI,IAAI,CAACS,SAAA,EAAkB,OAAAT,KAAA;EAEnBD,GAAA,CAAAC,KAAA,EAAO,IAAIS,SAAU,CAAAC,KAAA;EACrBX,GAAA,CAAAC,KAAA,EAAO,IAAIS,SAAU,CAAAE,KAAA;EACrBZ,GAAA,CAAAC,KAAA,EAAO,CAAK,GAAAS,SAAA,CAAUG,IAAuB,EAAAC,GAAA;EAE1C,OAAAb,KAAA;AACX;AAEA,SAASM,iBAAiBQ,WAAmC,EAAAf,GAAA,EAA0BC,KACvF;EACI,IAAI,CAACc,WAAA,EAAoB,OAAAd,KAAA;EAEjBA,KAAA,GAAAI,eAAA,CAAgBU,WAAa,EAAAf,GAAA,EAAKC,KAAK;EAE3CD,GAAA,CAAAC,KAAA,EAAO,IAAIc,WAAY,CAAAC,KAAA;EACvBhB,GAAA,CAAAC,KAAA,EAAO,IAAIc,WAAY,CAAAE,SAAA;EACvBjB,GAAA,CAAAC,KAAA,EAAO,IAAIc,WAAY,CAAAG,GAAA;EACvBlB,GAAA,CAAAC,KAAA,EAAO,IAAIc,WAAY,CAAAN,IAAA;EACvBT,GAAA,CAAAC,KAAA,EAAO,IAAIc,WAAY,CAAAI,UAAA;EAEpB,OAAAlB,KAAA;AACX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}