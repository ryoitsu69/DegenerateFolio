{"ast":null,"code":"import { DOMAdapter } from '../../environment/adapter.mjs';\nimport { AbstractRenderer } from '../../rendering/renderers/shared/system/AbstractRenderer.mjs';\n\"use strict\";\nlet _isWebGLSupported;\nfunction isWebGLSupported(failIfMajorPerformanceCaveat) {\n  if (_isWebGLSupported !== void 0) return _isWebGLSupported;\n  _isWebGLSupported = (() => {\n    const contextOptions = {\n      stencil: true,\n      failIfMajorPerformanceCaveat: failIfMajorPerformanceCaveat ?? AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat\n    };\n    try {\n      if (!DOMAdapter.get().getWebGLRenderingContext()) {\n        return false;\n      }\n      const canvas = DOMAdapter.get().createCanvas();\n      let gl = canvas.getContext(\"webgl\", contextOptions);\n      const success = !!gl?.getContextAttributes()?.stencil;\n      if (gl) {\n        const loseContext = gl.getExtension(\"WEBGL_lose_context\");\n        if (loseContext) {\n          loseContext.loseContext();\n        }\n      }\n      gl = null;\n      return success;\n    } catch (e) {\n      return false;\n    }\n  })();\n  return _isWebGLSupported;\n}\nexport { isWebGLSupported };","map":{"version":3,"names":["_isWebGLSupported","isWebGLSupported","failIfMajorPerformanceCaveat","contextOptions","stencil","AbstractRenderer","defaultOptions","DOMAdapter","get","getWebGLRenderingContext","canvas","createCanvas","gl","getContext","success","getContextAttributes","loseContext","getExtension","e"],"sources":["/home/ryoitsu/node_modules/pixi.js/src/utils/browser/isWebGLSupported.ts"],"sourcesContent":["import { DOMAdapter } from '../../environment/adapter';\nimport { AbstractRenderer } from '../../rendering/renderers/shared/system/AbstractRenderer';\n\nlet _isWebGLSupported: boolean | undefined;\n\n/**\n * Helper for checking for WebGL support.\n * @param failIfMajorPerformanceCaveat - whether to fail if there is a major performance caveat, defaults to false\n * @memberof utils\n * @function isWebGLSupported\n * @returns {boolean} Is WebGL supported.\n */\nexport function isWebGLSupported(\n    failIfMajorPerformanceCaveat?: boolean\n): boolean\n{\n    if (_isWebGLSupported !== undefined) return _isWebGLSupported;\n\n    _isWebGLSupported = ((): boolean =>\n    {\n        const contextOptions = {\n            stencil: true,\n            failIfMajorPerformanceCaveat:\n                failIfMajorPerformanceCaveat\n                ?? AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat,\n        };\n\n        try\n        {\n            if (!DOMAdapter.get().getWebGLRenderingContext())\n            {\n                return false;\n            }\n\n            const canvas = DOMAdapter.get().createCanvas();\n            let gl = canvas.getContext('webgl', contextOptions);\n\n            const success = !!gl?.getContextAttributes()?.stencil;\n\n            if (gl)\n            {\n                const loseContext = gl.getExtension('WEBGL_lose_context');\n\n                if (loseContext)\n                {\n                    loseContext.loseContext();\n                }\n            }\n\n            gl = null;\n\n            return success;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    })();\n\n    return _isWebGLSupported;\n}\n"],"mappings":";;;AAGA,IAAIA,iBAAA;AASG,SAASC,iBACZC,4BAEJ;EACI,IAAIF,iBAAsB,aAAkB,OAAAA,iBAAA;EAE5CA,iBAAA,IAAqB,MACrB;IACI,MAAMG,cAAiB;MACnBC,OAAS;MACTF,4BAAA,EACIA,4BACG,IAAAG,gBAAA,CAAiBC,cAAe,CAAAJ;IAAA,CAC3C;IAGA;MACI,IAAI,CAACK,UAAA,CAAWC,GAAI,GAAEC,wBAAA,EACtB;QACW;MAAA;MAGX,MAAMC,MAAS,GAAAH,UAAA,CAAWC,GAAI,GAAEG,YAAa;MAC7C,IAAIC,EAAK,GAAAF,MAAA,CAAOG,UAAW,UAASV,cAAc;MAElD,MAAMW,OAAU,IAAC,CAACF,EAAA,EAAIG,oBAAA,EAAwB,EAAAX,OAAA;MAE9C,IAAIQ,EACJ;QACU,MAAAI,WAAA,GAAcJ,EAAG,CAAAK,YAAA,CAAa,oBAAoB;QAExD,IAAID,WACJ;UACIA,WAAA,CAAYA,WAAY;QAAA;MAC5B;MAGCJ,EAAA;MAEE,OAAAE,OAAA;IAAA,SAEJI,CACP;MACW;IAAA;EACX,CACD;EAEI,OAAAlB,iBAAA;AACX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}