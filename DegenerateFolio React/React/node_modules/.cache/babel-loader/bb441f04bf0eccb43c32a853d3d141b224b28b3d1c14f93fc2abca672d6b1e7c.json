{"ast":null,"code":"import { of } from 'rxjs';\nimport { isFunction } from '@polkadot/util';\nimport { memo } from '../util/index.js';\nexport function getInstance(api, section) {\n  const instances = api.registry.getModuleInstances(api.runtimeVersion.specName, section);\n  const name = instances?.length ? instances[0] : section;\n  return api.query[name];\n}\nexport function withSection(section, fn) {\n  return (instanceId, api) => memo(instanceId, fn(getInstance(api, section), api, instanceId));\n}\nexport function callMethod(method, empty) {\n  return section => withSection(section, query => () => isFunction(query?.[method]) ? query[method]() : of(empty));\n}","map":{"version":3,"names":["of","isFunction","memo","getInstance","api","section","instances","registry","getModuleInstances","runtimeVersion","specName","name","length","query","withSection","fn","instanceId","callMethod","method","empty"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/collective/helpers.js"],"sourcesContent":["import { of } from 'rxjs';\nimport { isFunction } from '@polkadot/util';\nimport { memo } from '../util/index.js';\nexport function getInstance(api, section) {\n    const instances = api.registry.getModuleInstances(api.runtimeVersion.specName, section);\n    const name = instances?.length\n        ? instances[0]\n        : section;\n    return api.query[name];\n}\nexport function withSection(section, fn) {\n    return (instanceId, api) => memo(instanceId, fn(getInstance(api, section), api, instanceId));\n}\nexport function callMethod(method, empty) {\n    return (section) => withSection(section, (query) => () => isFunction(query?.[method])\n        ? query[method]()\n        : of(empty));\n}\n"],"mappings":"AAAA,SAASA,EAAE,QAAQ,MAAM;AACzB,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAO,SAASC,WAAWA,CAACC,GAAG,EAAEC,OAAO,EAAE;EACtC,MAAMC,SAAS,GAAGF,GAAG,CAACG,QAAQ,CAACC,kBAAkB,CAACJ,GAAG,CAACK,cAAc,CAACC,QAAQ,EAAEL,OAAO,CAAC;EACvF,MAAMM,IAAI,GAAGL,SAAS,EAAEM,MAAM,GACxBN,SAAS,CAAC,CAAC,CAAC,GACZD,OAAO;EACb,OAAOD,GAAG,CAACS,KAAK,CAACF,IAAI,CAAC;AAC1B;AACA,OAAO,SAASG,WAAWA,CAACT,OAAO,EAAEU,EAAE,EAAE;EACrC,OAAO,CAACC,UAAU,EAAEZ,GAAG,KAAKF,IAAI,CAACc,UAAU,EAAED,EAAE,CAACZ,WAAW,CAACC,GAAG,EAAEC,OAAO,CAAC,EAAED,GAAG,EAAEY,UAAU,CAAC,CAAC;AAChG;AACA,OAAO,SAASC,UAAUA,CAACC,MAAM,EAAEC,KAAK,EAAE;EACtC,OAAQd,OAAO,IAAKS,WAAW,CAACT,OAAO,EAAGQ,KAAK,IAAK,MAAMZ,UAAU,CAACY,KAAK,GAAGK,MAAM,CAAC,CAAC,GAC/EL,KAAK,CAACK,MAAM,CAAC,CAAC,CAAC,GACflB,EAAE,CAACmB,KAAK,CAAC,CAAC;AACpB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}