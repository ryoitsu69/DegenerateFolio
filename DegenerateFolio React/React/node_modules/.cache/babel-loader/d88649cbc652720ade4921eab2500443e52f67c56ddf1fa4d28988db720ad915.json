{"ast":null,"code":"import { deprecation, v8_0_0 } from '../../utils/logging/deprecation.mjs';\nimport { MeshGeometry } from '../mesh/shared/MeshGeometry.mjs';\n\"use strict\";\nconst _PlaneGeometry = class _PlaneGeometry extends MeshGeometry {\n  constructor(...args) {\n    super({});\n    let options = args[0] ?? {};\n    if (typeof options === \"number\") {\n      deprecation(v8_0_0, \"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead\");\n      options = {\n        width: options,\n        height: args[1],\n        verticesX: args[2],\n        verticesY: args[3]\n      };\n    }\n    this.build(options);\n  }\n  /**\n   * Refreshes plane coordinates\n   * @param options - Options to be applied to plane geometry\n   */\n  build(options) {\n    options = {\n      ..._PlaneGeometry.defaultOptions,\n      ...options\n    };\n    this.verticesX = this.verticesX ?? options.verticesX;\n    this.verticesY = this.verticesY ?? options.verticesY;\n    this.width = this.width ?? options.width;\n    this.height = this.height ?? options.height;\n    const total = this.verticesX * this.verticesY;\n    const verts = [];\n    const uvs = [];\n    const indices = [];\n    const verticesX = this.verticesX - 1;\n    const verticesY = this.verticesY - 1;\n    const sizeX = this.width / verticesX;\n    const sizeY = this.height / verticesY;\n    for (let i = 0; i < total; i++) {\n      const x = i % this.verticesX;\n      const y = i / this.verticesX | 0;\n      verts.push(x * sizeX, y * sizeY);\n      uvs.push(x / verticesX, y / verticesY);\n    }\n    const totalSub = verticesX * verticesY;\n    for (let i = 0; i < totalSub; i++) {\n      const xpos = i % verticesX;\n      const ypos = i / verticesX | 0;\n      const value = ypos * this.verticesX + xpos;\n      const value2 = ypos * this.verticesX + xpos + 1;\n      const value3 = (ypos + 1) * this.verticesX + xpos;\n      const value4 = (ypos + 1) * this.verticesX + xpos + 1;\n      indices.push(value, value2, value3, value2, value4, value3);\n    }\n    this.buffers[0].data = new Float32Array(verts);\n    this.buffers[1].data = new Float32Array(uvs);\n    this.indexBuffer.data = new Uint32Array(indices);\n    this.buffers[0].update();\n    this.buffers[1].update();\n    this.indexBuffer.update();\n  }\n};\n_PlaneGeometry.defaultOptions = {\n  width: 100,\n  height: 100,\n  verticesX: 10,\n  verticesY: 10\n};\nlet PlaneGeometry = _PlaneGeometry;\nexport { PlaneGeometry };","map":{"version":3,"names":["_PlaneGeometry","MeshGeometry","constructor","args","options","deprecation","v8_0_0","width","height","verticesX","verticesY","build","defaultOptions","total","verts","uvs","indices","sizeX","sizeY","i","x","y","push","totalSub","xpos","ypos","value","value2","value3","value4","buffers","data","Float32Array","indexBuffer","Uint32Array","update","PlaneGeometry"],"sources":["/home/ryoitsu/node_modules/pixi.js/src/scene/mesh-plane/PlaneGeometry.ts"],"sourcesContent":["import { deprecation, v8_0_0 } from '../../utils/logging/deprecation';\nimport { MeshGeometry } from '../mesh/shared/MeshGeometry';\n\nimport type { MeshGeometryOptions } from '../mesh/shared/MeshGeometry';\n\n/**\n * Constructor options used for `PlaneGeometry` instances.\n * ```js\n * const planeGeometry = new PlaneGeometry({\n *    width: 100,\n *    height: 100,\n *    verticesX: 10,\n *    verticesY: 10,\n * });\n * ```\n * @see {@link scene.PlaneGeometry}\n * @memberof scene\n */\nexport interface PlaneGeometryOptions\n{\n    /** Width of plane */\n    width?: number;\n    /** Height of plane */\n    height?: number;\n    /** Number of vertices on x-axis */\n    verticesX?: number;\n    /** Number of vertices on y-axis */\n    verticesY?: number;\n}\n\n/**\n * The PlaneGeometry allows you to draw a 2d plane\n * @memberof scene\n */\nexport class PlaneGeometry extends MeshGeometry\n{\n    public static defaultOptions: PlaneGeometryOptions & MeshGeometryOptions = {\n        width: 100,\n        height: 100,\n        verticesX: 10,\n        verticesY: 10,\n    };\n\n    /** The number of vertices on x-axis */\n    public verticesX: number;\n    /** The number of vertices on y-axis */\n    public verticesY: number;\n    /** The width of plane */\n    public width: number;\n    /** The height of plane */\n    public height: number;\n\n    /**\n     * @param {PlaneGeometryOptions} options - Options to be applied to plane geometry\n     */\n    constructor(options: PlaneGeometryOptions);\n    /** @deprecated since 8.0.0 */\n    constructor(width?: number, height?: number, verticesX?: number, verticesY?: number);\n    constructor(...args: [PlaneGeometryOptions?] | [number?, number?, number?, number?])\n    {\n        super({});\n\n        let options = args[0] ?? {};\n\n        if (typeof options === 'number')\n        {\n            // #if _DEBUG\n            // eslint-disable-next-line max-len\n            deprecation(v8_0_0, 'PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead');\n            // #endif\n\n            options = {\n                width: options,\n                height: args[1],\n                verticesX: args[2],\n                verticesY: args[3],\n            };\n        }\n\n        this.build(options);\n    }\n\n    /**\n     * Refreshes plane coordinates\n     * @param options - Options to be applied to plane geometry\n     */\n    public build(options: PlaneGeometryOptions): void\n    {\n        options = { ...PlaneGeometry.defaultOptions, ...options };\n\n        this.verticesX = this.verticesX ?? options.verticesX;\n        this.verticesY = this.verticesY ?? options.verticesY;\n\n        this.width = this.width ?? options.width;\n        this.height = this.height ?? options.height;\n\n        const total = this.verticesX * this.verticesY;\n        const verts = [];\n        const uvs = [];\n        const indices = [];\n\n        const verticesX = this.verticesX - 1;\n        const verticesY = this.verticesY - 1;\n\n        const sizeX = (this.width) / verticesX;\n        const sizeY = (this.height) / verticesY;\n\n        for (let i = 0; i < total; i++)\n        {\n            const x = (i % this.verticesX);\n            const y = ((i / this.verticesX) | 0);\n\n            verts.push(x * sizeX, y * sizeY);\n            uvs.push(x / verticesX, y / verticesY);\n        }\n\n        const totalSub = verticesX * verticesY;\n\n        for (let i = 0; i < totalSub; i++)\n        {\n            const xpos = i % verticesX;\n            const ypos = (i / verticesX) | 0;\n\n            const value = (ypos * this.verticesX) + xpos;\n            const value2 = (ypos * this.verticesX) + xpos + 1;\n            const value3 = ((ypos + 1) * this.verticesX) + xpos;\n            const value4 = ((ypos + 1) * this.verticesX) + xpos + 1;\n\n            indices.push(value, value2, value3,\n                value2, value4, value3);\n        }\n\n        this.buffers[0].data = new Float32Array(verts);\n        this.buffers[1].data = new Float32Array(uvs);\n        this.indexBuffer.data = new Uint32Array(indices);\n\n        // ensure that the changes are uploaded\n        this.buffers[0].update();\n        this.buffers[1].update();\n        this.indexBuffer.update();\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}