{"ast":null,"code":"import { deriveCache } from '../util/index.js';\nexport function getEraCache(CACHE_KEY, era, withActive) {\n  const cacheKey = `${CACHE_KEY}-${era.toString()}`;\n  return [cacheKey, withActive ? undefined : deriveCache.get(cacheKey)];\n}\nexport function getEraMultiCache(CACHE_KEY, eras, withActive) {\n  const cached = withActive ? [] : eras.map(e => deriveCache.get(`${CACHE_KEY}-${e.toString()}`)).filter(v => !!v);\n  return cached;\n}\nexport function setEraCache(cacheKey, withActive, value) {\n  !withActive && deriveCache.set(cacheKey, value);\n  return value;\n}\nexport function setEraMultiCache(CACHE_KEY, withActive, values) {\n  !withActive && values.forEach(v => deriveCache.set(`${CACHE_KEY}-${v.era.toString()}`, v));\n  return values;\n}\nexport function filterCachedEras(eras, cached, query) {\n  return eras.map(e => cached.find(({\n    era\n  }) => e.eq(era)) || query.find(({\n    era\n  }) => e.eq(era))).filter(e => !!e);\n}","map":{"version":3,"names":["deriveCache","getEraCache","CACHE_KEY","era","withActive","cacheKey","toString","undefined","get","getEraMultiCache","eras","cached","map","e","filter","v","setEraCache","value","set","setEraMultiCache","values","forEach","filterCachedEras","query","find","eq"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/staking/cache.js"],"sourcesContent":["import { deriveCache } from '../util/index.js';\nexport function getEraCache(CACHE_KEY, era, withActive) {\n    const cacheKey = `${CACHE_KEY}-${era.toString()}`;\n    return [\n        cacheKey,\n        withActive\n            ? undefined\n            : deriveCache.get(cacheKey)\n    ];\n}\nexport function getEraMultiCache(CACHE_KEY, eras, withActive) {\n    const cached = withActive\n        ? []\n        : eras\n            .map((e) => deriveCache.get(`${CACHE_KEY}-${e.toString()}`))\n            .filter((v) => !!v);\n    return cached;\n}\nexport function setEraCache(cacheKey, withActive, value) {\n    !withActive && deriveCache.set(cacheKey, value);\n    return value;\n}\nexport function setEraMultiCache(CACHE_KEY, withActive, values) {\n    !withActive && values.forEach((v) => deriveCache.set(`${CACHE_KEY}-${v.era.toString()}`, v));\n    return values;\n}\nexport function filterCachedEras(eras, cached, query) {\n    return eras\n        .map((e) => cached.find(({ era }) => e.eq(era)) ||\n        query.find(({ era }) => e.eq(era)))\n        .filter((e) => !!e);\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,SAASC,WAAWA,CAACC,SAAS,EAAEC,GAAG,EAAEC,UAAU,EAAE;EACpD,MAAMC,QAAQ,GAAI,GAAEH,SAAU,IAAGC,GAAG,CAACG,QAAQ,CAAC,CAAE,EAAC;EACjD,OAAO,CACHD,QAAQ,EACRD,UAAU,GACJG,SAAS,GACTP,WAAW,CAACQ,GAAG,CAACH,QAAQ,CAAC,CAClC;AACL;AACA,OAAO,SAASI,gBAAgBA,CAACP,SAAS,EAAEQ,IAAI,EAAEN,UAAU,EAAE;EAC1D,MAAMO,MAAM,GAAGP,UAAU,GACnB,EAAE,GACFM,IAAI,CACDE,GAAG,CAAEC,CAAC,IAAKb,WAAW,CAACQ,GAAG,CAAE,GAAEN,SAAU,IAAGW,CAAC,CAACP,QAAQ,CAAC,CAAE,EAAC,CAAC,CAAC,CAC3DQ,MAAM,CAAEC,CAAC,IAAK,CAAC,CAACA,CAAC,CAAC;EAC3B,OAAOJ,MAAM;AACjB;AACA,OAAO,SAASK,WAAWA,CAACX,QAAQ,EAAED,UAAU,EAAEa,KAAK,EAAE;EACrD,CAACb,UAAU,IAAIJ,WAAW,CAACkB,GAAG,CAACb,QAAQ,EAAEY,KAAK,CAAC;EAC/C,OAAOA,KAAK;AAChB;AACA,OAAO,SAASE,gBAAgBA,CAACjB,SAAS,EAAEE,UAAU,EAAEgB,MAAM,EAAE;EAC5D,CAAChB,UAAU,IAAIgB,MAAM,CAACC,OAAO,CAAEN,CAAC,IAAKf,WAAW,CAACkB,GAAG,CAAE,GAAEhB,SAAU,IAAGa,CAAC,CAACZ,GAAG,CAACG,QAAQ,CAAC,CAAE,EAAC,EAAES,CAAC,CAAC,CAAC;EAC5F,OAAOK,MAAM;AACjB;AACA,OAAO,SAASE,gBAAgBA,CAACZ,IAAI,EAAEC,MAAM,EAAEY,KAAK,EAAE;EAClD,OAAOb,IAAI,CACNE,GAAG,CAAEC,CAAC,IAAKF,MAAM,CAACa,IAAI,CAAC,CAAC;IAAErB;EAAI,CAAC,KAAKU,CAAC,CAACY,EAAE,CAACtB,GAAG,CAAC,CAAC,IAC/CoB,KAAK,CAACC,IAAI,CAAC,CAAC;IAAErB;EAAI,CAAC,KAAKU,CAAC,CAACY,EAAE,CAACtB,GAAG,CAAC,CAAC,CAAC,CAClCW,MAAM,CAAED,CAAC,IAAK,CAAC,CAACA,CAAC,CAAC;AAC3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}