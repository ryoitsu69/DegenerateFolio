{"ast":null,"code":"import { ExtensionType } from '../extensions/Extensions.mjs';\n\"use strict\";\nclass FilterPipe {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  push(filterEffect, container, instructionSet) {\n    const renderPipes = this._renderer.renderPipes;\n    renderPipes.batch.break(instructionSet);\n    instructionSet.add({\n      renderPipeId: \"filter\",\n      canBundle: false,\n      action: \"pushFilter\",\n      container,\n      filterEffect\n    });\n  }\n  pop(_filterEffect, _container, instructionSet) {\n    this._renderer.renderPipes.batch.break(instructionSet);\n    instructionSet.add({\n      renderPipeId: \"filter\",\n      action: \"popFilter\",\n      canBundle: false\n    });\n  }\n  execute(instruction) {\n    if (instruction.action === \"pushFilter\") {\n      this._renderer.filter.push(instruction);\n    } else if (instruction.action === \"popFilter\") {\n      this._renderer.filter.pop();\n    }\n  }\n  destroy() {\n    this._renderer = null;\n  }\n}\nFilterPipe.extension = {\n  type: [ExtensionType.WebGLPipes, ExtensionType.WebGPUPipes, ExtensionType.CanvasPipes],\n  name: \"filter\"\n};\nexport { FilterPipe };","map":{"version":3,"names":["FilterPipe","constructor","renderer","_renderer","push","filterEffect","container","instructionSet","renderPipes","batch","break","add","renderPipeId","canBundle","action","pop","_filterEffect","_container","execute","instruction","filter","destroy","extension","type","ExtensionType","WebGLPipes","WebGPUPipes","CanvasPipes","name"],"sources":["/home/ryoitsu/node_modules/pixi.js/src/filters/FilterPipe.ts"],"sourcesContent":["import { ExtensionType } from '../extensions/Extensions';\n\nimport type { InstructionSet } from '../rendering/renderers/shared/instructions/InstructionSet';\nimport type { InstructionPipe } from '../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderer } from '../rendering/renderers/types';\nimport type { Container } from '../scene/container/Container';\nimport type { Effect } from '../scene/container/Effect';\nimport type { FilterInstruction } from './FilterSystem';\n\n// eslint-disable-next-line max-len\nexport class FilterPipe implements InstructionPipe<FilterInstruction>\n{\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'filter',\n    } as const;\n\n    private _renderer: Renderer;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public push(filterEffect: Effect, container: Container, instructionSet: InstructionSet): void\n    {\n        const renderPipes = this._renderer.renderPipes;\n\n        renderPipes.batch.break(instructionSet);\n\n        instructionSet.add({\n            renderPipeId: 'filter',\n            canBundle: false,\n            action: 'pushFilter',\n            container,\n            filterEffect,\n        } as FilterInstruction);\n    }\n\n    public pop(_filterEffect: Effect, _container: Container, instructionSet: InstructionSet): void\n    {\n        this._renderer.renderPipes.batch.break(instructionSet);\n\n        instructionSet.add({\n            renderPipeId: 'filter',\n            action: 'popFilter',\n            canBundle: false,\n        });\n    }\n\n    public execute(instruction: FilterInstruction)\n    {\n        if (instruction.action === 'pushFilter')\n        {\n            this._renderer.filter.push(instruction);\n        }\n        else if (instruction.action === 'popFilter')\n        {\n            this._renderer.filter.pop();\n        }\n    }\n\n    public destroy(): void\n    {\n        this._renderer = null;\n    }\n}\n"],"mappings":";;AAUO,MAAMA,UACb;EAYIC,YAAYC,QACZ;IACI,KAAKC,SAAY,GAAAD,QAAA;EAAA;EAGdE,KAAKC,YAAsB,EAAAC,SAAA,EAAsBC,cACxD;IACU,MAAAC,WAAA,GAAc,KAAKL,SAAU,CAAAK,WAAA;IAEvBA,WAAA,CAAAC,KAAA,CAAMC,KAAA,CAAMH,cAAc;IAEtCA,cAAA,CAAeI,GAAI;MACfC,YAAc;MACdC,SAAW;MACXC,MAAQ;MACRR,SAAA;MACAD;IAAA,CACkB;EAAA;EAGnBU,IAAIC,aAAuB,EAAAC,UAAA,EAAuBV,cACzD;IACI,KAAKJ,SAAU,CAAAK,WAAA,CAAYC,KAAM,CAAAC,KAAA,CAAMH,cAAc;IAErDA,cAAA,CAAeI,GAAI;MACfC,YAAc;MACdE,MAAQ;MACRD,SAAW;IAAA,CACd;EAAA;EAGEK,QAAQC,WACf;IACQ,IAAAA,WAAA,CAAYL,MAAA,KAAW,YAC3B;MACS,KAAAX,SAAA,CAAUiB,MAAO,CAAAhB,IAAA,CAAKe,WAAW;IAAA,CAC1C,UACSA,WAAY,CAAAL,MAAA,KAAW,WAChC;MACS,KAAAX,SAAA,CAAUiB,MAAA,CAAOL,GAAI;IAAA;EAC9B;EAGGM,OACPA,CAAA;IACI,KAAKlB,SAAY;EAAA;AAEzB;AA5DaH,UAAA,CAEKsB,SAAY;EACtBC,IAAM,GACFC,aAAc,CAAAC,UAAA,EACdD,aAAc,CAAAE,WAAA,EACdF,aAAc,CAAAG,WAAA,CAClB;EACAC,IAAM;AACV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}