{"ast":null,"code":"import { map, switchMap } from 'rxjs';\nimport { arrayFlatten } from '@polkadot/util';\nimport { memo } from '../util/index.js';\nconst DEFAULT_FLAGS = {\n  withController: true,\n  withExposure: true,\n  withPrefs: true\n};\nfunction combineAccounts(nextElected, validators) {\n  return arrayFlatten([nextElected, validators.filter(v => !nextElected.find(n => n.eq(v)))]);\n}\nexport function electedInfo(instanceId, api) {\n  return memo(instanceId, (flags = DEFAULT_FLAGS) => api.derive.staking.validators().pipe(switchMap(({\n    nextElected,\n    validators\n  }) => api.derive.staking.queryMulti(combineAccounts(nextElected, validators), flags).pipe(map(info => ({\n    info,\n    nextElected,\n    validators\n  }))))));\n}","map":{"version":3,"names":["map","switchMap","arrayFlatten","memo","DEFAULT_FLAGS","withController","withExposure","withPrefs","combineAccounts","nextElected","validators","filter","v","find","n","eq","electedInfo","instanceId","api","flags","derive","staking","pipe","queryMulti","info"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/staking/electedInfo.js"],"sourcesContent":["import { map, switchMap } from 'rxjs';\nimport { arrayFlatten } from '@polkadot/util';\nimport { memo } from '../util/index.js';\nconst DEFAULT_FLAGS = { withController: true, withExposure: true, withPrefs: true };\nfunction combineAccounts(nextElected, validators) {\n    return arrayFlatten([nextElected, validators.filter((v) => !nextElected.find((n) => n.eq(v)))]);\n}\nexport function electedInfo(instanceId, api) {\n    return memo(instanceId, (flags = DEFAULT_FLAGS) => api.derive.staking.validators().pipe(switchMap(({ nextElected, validators }) => api.derive.staking.queryMulti(combineAccounts(nextElected, validators), flags).pipe(map((info) => ({\n        info,\n        nextElected,\n        validators\n    }))))));\n}\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,SAAS,QAAQ,MAAM;AACrC,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,SAASC,IAAI,QAAQ,kBAAkB;AACvC,MAAMC,aAAa,GAAG;EAAEC,cAAc,EAAE,IAAI;EAAEC,YAAY,EAAE,IAAI;EAAEC,SAAS,EAAE;AAAK,CAAC;AACnF,SAASC,eAAeA,CAACC,WAAW,EAAEC,UAAU,EAAE;EAC9C,OAAOR,YAAY,CAAC,CAACO,WAAW,EAAEC,UAAU,CAACC,MAAM,CAAEC,CAAC,IAAK,CAACH,WAAW,CAACI,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,CAACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnG;AACA,OAAO,SAASI,WAAWA,CAACC,UAAU,EAAEC,GAAG,EAAE;EACzC,OAAOf,IAAI,CAACc,UAAU,EAAE,CAACE,KAAK,GAAGf,aAAa,KAAKc,GAAG,CAACE,MAAM,CAACC,OAAO,CAACX,UAAU,CAAC,CAAC,CAACY,IAAI,CAACrB,SAAS,CAAC,CAAC;IAAEQ,WAAW;IAAEC;EAAW,CAAC,KAAKQ,GAAG,CAACE,MAAM,CAACC,OAAO,CAACE,UAAU,CAACf,eAAe,CAACC,WAAW,EAAEC,UAAU,CAAC,EAAES,KAAK,CAAC,CAACG,IAAI,CAACtB,GAAG,CAAEwB,IAAI,KAAM;IAClOA,IAAI;IACJf,WAAW;IACXC;EACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}