{"ast":null,"code":"import { combineLatest, map } from 'rxjs';\nimport { memo } from '../util/index.js';\n/**\n * @name bestNumberLag\n * @returns A number of blocks\n * @description Calculates the lag between finalized head and best head\n * @example\n * <BR>\n *\n * ```javascript\n * api.derive.chain.bestNumberLag((lag) => {\n *   console.log(`finalized is ${lag} blocks behind head`);\n * });\n * ```\n */\nexport function bestNumberLag(instanceId, api) {\n  return memo(instanceId, () => combineLatest([api.derive.chain.bestNumber(), api.derive.chain.bestNumberFinalized()]).pipe(map(([bestNumber, bestNumberFinalized]) => api.registry.createType('BlockNumber', bestNumber.sub(bestNumberFinalized)))));\n}","map":{"version":3,"names":["combineLatest","map","memo","bestNumberLag","instanceId","api","derive","chain","bestNumber","bestNumberFinalized","pipe","registry","createType","sub"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/chain/bestNumberLag.js"],"sourcesContent":["import { combineLatest, map } from 'rxjs';\nimport { memo } from '../util/index.js';\n/**\n * @name bestNumberLag\n * @returns A number of blocks\n * @description Calculates the lag between finalized head and best head\n * @example\n * <BR>\n *\n * ```javascript\n * api.derive.chain.bestNumberLag((lag) => {\n *   console.log(`finalized is ${lag} blocks behind head`);\n * });\n * ```\n */\nexport function bestNumberLag(instanceId, api) {\n    return memo(instanceId, () => combineLatest([\n        api.derive.chain.bestNumber(),\n        api.derive.chain.bestNumberFinalized()\n    ]).pipe(map(([bestNumber, bestNumberFinalized]) => api.registry.createType('BlockNumber', bestNumber.sub(bestNumberFinalized)))));\n}\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,GAAG,QAAQ,MAAM;AACzC,SAASC,IAAI,QAAQ,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,aAAaA,CAACC,UAAU,EAAEC,GAAG,EAAE;EAC3C,OAAOH,IAAI,CAACE,UAAU,EAAE,MAAMJ,aAAa,CAAC,CACxCK,GAAG,CAACC,MAAM,CAACC,KAAK,CAACC,UAAU,CAAC,CAAC,EAC7BH,GAAG,CAACC,MAAM,CAACC,KAAK,CAACE,mBAAmB,CAAC,CAAC,CACzC,CAAC,CAACC,IAAI,CAACT,GAAG,CAAC,CAAC,CAACO,UAAU,EAAEC,mBAAmB,CAAC,KAAKJ,GAAG,CAACM,QAAQ,CAACC,UAAU,CAAC,aAAa,EAAEJ,UAAU,CAACK,GAAG,CAACJ,mBAAmB,CAAC,CAAC,CAAC,CAAC,CAAC;AACrI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}