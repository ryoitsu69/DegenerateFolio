{"ast":null,"code":"import { combineLatest, map, of } from 'rxjs';\nimport { firstMemo, memo } from '../util/index.js';\nimport { erasHistoricApplyAccount } from './util.js';\nexport function _ownExposures(instanceId, api) {\n  return memo(instanceId, (accountId, eras, _withActive) => eras.length ? combineLatest([combineLatest(eras.map(e => api.query.staking.erasStakersClipped(e, accountId))), combineLatest(eras.map(e => api.query.staking.erasStakers(e, accountId)))]).pipe(map(([clp, exp]) => eras.map((era, index) => ({\n    clipped: clp[index],\n    era,\n    exposure: exp[index]\n  })))) : of([]));\n}\nexport const ownExposure = /*#__PURE__*/firstMemo((api, accountId, era) => api.derive.staking._ownExposures(accountId, [era], true));\nexport const ownExposures = /*#__PURE__*/erasHistoricApplyAccount('_ownExposures');","map":{"version":3,"names":["combineLatest","map","of","firstMemo","memo","erasHistoricApplyAccount","_ownExposures","instanceId","api","accountId","eras","_withActive","length","e","query","staking","erasStakersClipped","erasStakers","pipe","clp","exp","era","index","clipped","exposure","ownExposure","derive","ownExposures"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/api-derive/staking/ownExposure.js"],"sourcesContent":["import { combineLatest, map, of } from 'rxjs';\nimport { firstMemo, memo } from '../util/index.js';\nimport { erasHistoricApplyAccount } from './util.js';\nexport function _ownExposures(instanceId, api) {\n    return memo(instanceId, (accountId, eras, _withActive) => eras.length\n        ? combineLatest([\n            combineLatest(eras.map((e) => api.query.staking.erasStakersClipped(e, accountId))),\n            combineLatest(eras.map((e) => api.query.staking.erasStakers(e, accountId)))\n        ]).pipe(map(([clp, exp]) => eras.map((era, index) => ({ clipped: clp[index], era, exposure: exp[index] }))))\n        : of([]));\n}\nexport const ownExposure = /*#__PURE__*/ firstMemo((api, accountId, era) => api.derive.staking._ownExposures(accountId, [era], true));\nexport const ownExposures = /*#__PURE__*/ erasHistoricApplyAccount('_ownExposures');\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,GAAG,EAAEC,EAAE,QAAQ,MAAM;AAC7C,SAASC,SAAS,EAAEC,IAAI,QAAQ,kBAAkB;AAClD,SAASC,wBAAwB,QAAQ,WAAW;AACpD,OAAO,SAASC,aAAaA,CAACC,UAAU,EAAEC,GAAG,EAAE;EAC3C,OAAOJ,IAAI,CAACG,UAAU,EAAE,CAACE,SAAS,EAAEC,IAAI,EAAEC,WAAW,KAAKD,IAAI,CAACE,MAAM,GAC/DZ,aAAa,CAAC,CACZA,aAAa,CAACU,IAAI,CAACT,GAAG,CAAEY,CAAC,IAAKL,GAAG,CAACM,KAAK,CAACC,OAAO,CAACC,kBAAkB,CAACH,CAAC,EAAEJ,SAAS,CAAC,CAAC,CAAC,EAClFT,aAAa,CAACU,IAAI,CAACT,GAAG,CAAEY,CAAC,IAAKL,GAAG,CAACM,KAAK,CAACC,OAAO,CAACE,WAAW,CAACJ,CAAC,EAAEJ,SAAS,CAAC,CAAC,CAAC,CAC9E,CAAC,CAACS,IAAI,CAACjB,GAAG,CAAC,CAAC,CAACkB,GAAG,EAAEC,GAAG,CAAC,KAAKV,IAAI,CAACT,GAAG,CAAC,CAACoB,GAAG,EAAEC,KAAK,MAAM;IAAEC,OAAO,EAAEJ,GAAG,CAACG,KAAK,CAAC;IAAED,GAAG;IAAEG,QAAQ,EAAEJ,GAAG,CAACE,KAAK;EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAC1GpB,EAAE,CAAC,EAAE,CAAC,CAAC;AACjB;AACA,OAAO,MAAMuB,WAAW,GAAG,aAActB,SAAS,CAAC,CAACK,GAAG,EAAEC,SAAS,EAAEY,GAAG,KAAKb,GAAG,CAACkB,MAAM,CAACX,OAAO,CAACT,aAAa,CAACG,SAAS,EAAE,CAACY,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;AACrI,OAAO,MAAMM,YAAY,GAAG,aAActB,wBAAwB,CAAC,eAAe,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}