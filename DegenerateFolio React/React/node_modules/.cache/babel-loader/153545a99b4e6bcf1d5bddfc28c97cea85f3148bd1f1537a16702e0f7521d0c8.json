{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Uint64 = exports.Uint53 = exports.Int53 = exports.Uint32 = void 0;\n/* eslint-disable no-bitwise */\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst uint64MaxValue = new bn_js_1.default(\"18446744073709551615\", 10, \"be\");\nclass Uint32 {\n  /** @deprecated use Uint32.fromBytes */\n  static fromBigEndianBytes(bytes) {\n    return Uint32.fromBytes(bytes);\n  }\n  /**\n   * Creates a Uint32 from a fixed length byte array.\n   *\n   * @param bytes a list of exactly 4 bytes\n   * @param endianess defaults to big endian\n   */\n  static fromBytes(bytes, endianess = \"be\") {\n    if (bytes.length !== 4) {\n      throw new Error(\"Invalid input length. Expected 4 bytes.\");\n    }\n    for (let i = 0; i < bytes.length; ++i) {\n      if (!Number.isInteger(bytes[i]) || bytes[i] > 255 || bytes[i] < 0) {\n        throw new Error(\"Invalid value in byte. Found: \" + bytes[i]);\n      }\n    }\n    const beBytes = endianess === \"be\" ? bytes : Array.from(bytes).reverse();\n    // Use mulitiplication instead of shifting since bitwise operators are defined\n    // on SIGNED int32 in JavaScript and we don't want to risk surprises\n    return new Uint32(beBytes[0] * 2 ** 24 + beBytes[1] * 2 ** 16 + beBytes[2] * 2 ** 8 + beBytes[3]);\n  }\n  static fromString(str) {\n    if (!str.match(/^[0-9]+$/)) {\n      throw new Error(\"Invalid string format\");\n    }\n    return new Uint32(Number.parseInt(str, 10));\n  }\n  constructor(input) {\n    if (Number.isNaN(input)) {\n      throw new Error(\"Input is not a number\");\n    }\n    if (!Number.isInteger(input)) {\n      throw new Error(\"Input is not an integer\");\n    }\n    if (input < 0 || input > 4294967295) {\n      throw new Error(\"Input not in uint32 range: \" + input.toString());\n    }\n    this.data = input;\n  }\n  toBytesBigEndian() {\n    // Use division instead of shifting since bitwise operators are defined\n    // on SIGNED int32 in JavaScript and we don't want to risk surprises\n    return new Uint8Array([Math.floor(this.data / 2 ** 24) & 0xff, Math.floor(this.data / 2 ** 16) & 0xff, Math.floor(this.data / 2 ** 8) & 0xff, Math.floor(this.data / 2 ** 0) & 0xff]);\n  }\n  toBytesLittleEndian() {\n    // Use division instead of shifting since bitwise operators are defined\n    // on SIGNED int32 in JavaScript and we don't want to risk surprises\n    return new Uint8Array([Math.floor(this.data / 2 ** 0) & 0xff, Math.floor(this.data / 2 ** 8) & 0xff, Math.floor(this.data / 2 ** 16) & 0xff, Math.floor(this.data / 2 ** 24) & 0xff]);\n  }\n  toNumber() {\n    return this.data;\n  }\n  toBigInt() {\n    return BigInt(this.toNumber());\n  }\n  toString() {\n    return this.data.toString();\n  }\n}\nexports.Uint32 = Uint32;\nclass Int53 {\n  static fromString(str) {\n    if (!str.match(/^-?[0-9]+$/)) {\n      throw new Error(\"Invalid string format\");\n    }\n    return new Int53(Number.parseInt(str, 10));\n  }\n  constructor(input) {\n    if (Number.isNaN(input)) {\n      throw new Error(\"Input is not a number\");\n    }\n    if (!Number.isInteger(input)) {\n      throw new Error(\"Input is not an integer\");\n    }\n    if (input < Number.MIN_SAFE_INTEGER || input > Number.MAX_SAFE_INTEGER) {\n      throw new Error(\"Input not in int53 range: \" + input.toString());\n    }\n    this.data = input;\n  }\n  toNumber() {\n    return this.data;\n  }\n  toBigInt() {\n    return BigInt(this.toNumber());\n  }\n  toString() {\n    return this.data.toString();\n  }\n}\nexports.Int53 = Int53;\nclass Uint53 {\n  static fromString(str) {\n    const signed = Int53.fromString(str);\n    return new Uint53(signed.toNumber());\n  }\n  constructor(input) {\n    const signed = new Int53(input);\n    if (signed.toNumber() < 0) {\n      throw new Error(\"Input is negative\");\n    }\n    this.data = signed;\n  }\n  toNumber() {\n    return this.data.toNumber();\n  }\n  toBigInt() {\n    return BigInt(this.toNumber());\n  }\n  toString() {\n    return this.data.toString();\n  }\n}\nexports.Uint53 = Uint53;\nclass Uint64 {\n  /** @deprecated use Uint64.fromBytes */\n  static fromBytesBigEndian(bytes) {\n    return Uint64.fromBytes(bytes);\n  }\n  /**\n   * Creates a Uint64 from a fixed length byte array.\n   *\n   * @param bytes a list of exactly 8 bytes\n   * @param endianess defaults to big endian\n   */\n  static fromBytes(bytes, endianess = \"be\") {\n    if (bytes.length !== 8) {\n      throw new Error(\"Invalid input length. Expected 8 bytes.\");\n    }\n    for (let i = 0; i < bytes.length; ++i) {\n      if (!Number.isInteger(bytes[i]) || bytes[i] > 255 || bytes[i] < 0) {\n        throw new Error(\"Invalid value in byte. Found: \" + bytes[i]);\n      }\n    }\n    const beBytes = endianess === \"be\" ? Array.from(bytes) : Array.from(bytes).reverse();\n    return new Uint64(new bn_js_1.default(beBytes));\n  }\n  static fromString(str) {\n    if (!str.match(/^[0-9]+$/)) {\n      throw new Error(\"Invalid string format\");\n    }\n    return new Uint64(new bn_js_1.default(str, 10, \"be\"));\n  }\n  static fromNumber(input) {\n    if (Number.isNaN(input)) {\n      throw new Error(\"Input is not a number\");\n    }\n    if (!Number.isInteger(input)) {\n      throw new Error(\"Input is not an integer\");\n    }\n    let bigint;\n    try {\n      bigint = new bn_js_1.default(input);\n    } catch {\n      throw new Error(\"Input is not a safe integer\");\n    }\n    return new Uint64(bigint);\n  }\n  constructor(data) {\n    if (data.isNeg()) {\n      throw new Error(\"Input is negative\");\n    }\n    if (data.gt(uint64MaxValue)) {\n      throw new Error(\"Input exceeds uint64 range\");\n    }\n    this.data = data;\n  }\n  toBytesBigEndian() {\n    return Uint8Array.from(this.data.toArray(\"be\", 8));\n  }\n  toBytesLittleEndian() {\n    return Uint8Array.from(this.data.toArray(\"le\", 8));\n  }\n  toString() {\n    return this.data.toString(10);\n  }\n  toBigInt() {\n    return BigInt(this.toString());\n  }\n  toNumber() {\n    return this.data.toNumber();\n  }\n}\nexports.Uint64 = Uint64;\n// Assign classes to unused variables in order to verify static interface conformance at compile time.\n// Workaround for https://github.com/microsoft/TypeScript/issues/33892\nconst _int53Class = Int53;\nconst _uint53Class = Uint53;\nconst _uint32Class = Uint32;\nconst _uint64Class = Uint64;","map":{"version":3,"names":["bn_js_1","__importDefault","require","uint64MaxValue","default","Uint32","fromBigEndianBytes","bytes","fromBytes","endianess","length","Error","i","Number","isInteger","beBytes","Array","from","reverse","fromString","str","match","parseInt","constructor","input","isNaN","toString","data","toBytesBigEndian","Uint8Array","Math","floor","toBytesLittleEndian","toNumber","toBigInt","BigInt","exports","Int53","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","Uint53","signed","Uint64","fromBytesBigEndian","fromNumber","bigint","isNeg","gt","toArray","_int53Class","_uint53Class","_uint32Class","_uint64Class"],"sources":["../src/integers.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}