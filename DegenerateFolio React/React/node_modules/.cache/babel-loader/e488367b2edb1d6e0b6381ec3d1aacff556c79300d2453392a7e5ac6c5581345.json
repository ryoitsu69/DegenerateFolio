{"ast":null,"code":"\"use strict\";\n\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.onNewProviderDiscovered = exports.requestEIP6963Providers = exports.web3ProvidersMapUpdated = exports.eip6963ProvidersMap = exports.Eip6963EventName = void 0;\nvar Eip6963EventName;\n(function (Eip6963EventName) {\n  Eip6963EventName[\"eip6963announceProvider\"] = \"eip6963:announceProvider\";\n  Eip6963EventName[\"eip6963requestProvider\"] = \"eip6963:requestProvider\";\n})(Eip6963EventName = exports.Eip6963EventName || (exports.Eip6963EventName = {}));\n;\nexports.eip6963ProvidersMap = new Map();\nexports.web3ProvidersMapUpdated = \"web3:providersMapUpdated\";\nconst requestEIP6963Providers = () => __awaiter(void 0, void 0, void 0, function* () {\n  return new Promise((resolve, reject) => {\n    if (typeof window === 'undefined') {\n      reject(new Error(\"window object not available, EIP-6963 is intended to be used within a browser\"));\n    }\n    window.addEventListener(Eip6963EventName.eip6963announceProvider, event => {\n      exports.eip6963ProvidersMap.set(event.detail.info.uuid, event.detail);\n      const newEvent = new CustomEvent(exports.web3ProvidersMapUpdated, {\n        detail: exports.eip6963ProvidersMap\n      });\n      window.dispatchEvent(newEvent);\n      resolve(exports.eip6963ProvidersMap);\n    });\n    window.dispatchEvent(new Event(Eip6963EventName.eip6963requestProvider));\n  });\n});\nexports.requestEIP6963Providers = requestEIP6963Providers;\nconst onNewProviderDiscovered = callback => {\n  if (typeof window === 'undefined') {\n    throw new Error(\"window object not available, EIP-6963 is intended to be used within a browser\");\n  }\n  window.addEventListener(exports.web3ProvidersMapUpdated, callback);\n};\nexports.onNewProviderDiscovered = onNewProviderDiscovered;","map":{"version":3,"names":["Eip6963EventName","exports","eip6963ProvidersMap","Map","web3ProvidersMapUpdated","requestEIP6963Providers","__awaiter","Promise","resolve","reject","window","Error","addEventListener","eip6963announceProvider","event","set","detail","info","uuid","newEvent","CustomEvent","dispatchEvent","Event","eip6963requestProvider","onNewProviderDiscovered","callback"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/web3/src/web3_eip6963.ts"],"sourcesContent":["/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nimport { Web3APISpec, EIP1193Provider } from \"web3-types\";\n\n\nexport enum Eip6963EventName {\n  eip6963announceProvider = 'eip6963:announceProvider',\n  eip6963requestProvider = 'eip6963:requestProvider',\n};\n\nexport interface EIP6963ProviderInfo {\n  uuid: string;\n  name: string;\n  icon: string;\n  rdns: string;\n}\n\nexport interface EIP6963ProviderDetail<API = Web3APISpec> {\n  info: EIP6963ProviderInfo;\n  provider: EIP1193Provider<API>;\n}\n\nexport interface EIP6963AnnounceProviderEvent<API = Web3APISpec> extends CustomEvent {\n  type: Eip6963EventName.eip6963announceProvider;\n  detail: EIP6963ProviderDetail<API>;\n}\n\nexport interface EIP6963RequestProviderEvent extends Event {\n  type: Eip6963EventName.eip6963requestProvider;\n}\n\nexport const eip6963ProvidersMap: Map<string, EIP6963ProviderDetail> = new Map();\n\nexport const web3ProvidersMapUpdated = \"web3:providersMapUpdated\";\nexport interface EIP6963ProvidersMapUpdateEvent extends CustomEvent {\n  type: string;\n  detail: Map<string, EIP6963ProviderDetail>;\n}\n\nexport const requestEIP6963Providers = async () => \n   new Promise((resolve, reject) => {\n    if (typeof window === 'undefined') {\n      reject(new Error(\"window object not available, EIP-6963 is intended to be used within a browser\"));\n    }\n\n  window.addEventListener(\n    Eip6963EventName.eip6963announceProvider as any,\n    (event: EIP6963AnnounceProviderEvent) => {\n\n      eip6963ProvidersMap.set(\n        event.detail.info.uuid,\n        event.detail);\n\n      const newEvent: EIP6963ProvidersMapUpdateEvent = new CustomEvent(\n        web3ProvidersMapUpdated,\n        { detail: eip6963ProvidersMap }\n        );\n\n      window.dispatchEvent(newEvent);\n      resolve(eip6963ProvidersMap);\n\n    }\n  );\n\n  window.dispatchEvent(new Event(Eip6963EventName.eip6963requestProvider));\n\n  });\n\n\nexport const onNewProviderDiscovered = (callback: (providerEvent: EIP6963AnnounceProviderEvent) => void) => {\n  if (typeof window === 'undefined') {\n    throw new Error(\"window object not available, EIP-6963 is intended to be used within a browser\");\n  }\n  window.addEventListener(web3ProvidersMapUpdated as any, callback );\n}\n\n"],"mappings":";;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBA,IAAYA,gBAGX;AAHD,WAAYA,gBAAgB;EAC1BA,gBAAA,wDAAoD;EACpDA,gBAAA,sDAAkD;AACpD,CAAC,EAHWA,gBAAgB,GAAhBC,OAAA,CAAAD,gBAAgB,KAAhBC,OAAA,CAAAD,gBAAgB;AAG3B;AAuBYC,OAAA,CAAAC,mBAAmB,GAAuC,IAAIC,GAAG,EAAE;AAEnEF,OAAA,CAAAG,uBAAuB,GAAG,0BAA0B;AAM1D,MAAMC,uBAAuB,GAAGA,CAAA,KAAWC,SAAA;EAC/C,WAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;IAC/B,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;MACjCD,MAAM,CAAC,IAAIE,KAAK,CAAC,+EAA+E,CAAC,CAAC;;IAGtGD,MAAM,CAACE,gBAAgB,CACrBZ,gBAAgB,CAACa,uBAA8B,EAC9CC,KAAmC,IAAI;MAEtCb,OAAA,CAAAC,mBAAmB,CAACa,GAAG,CACrBD,KAAK,CAACE,MAAM,CAACC,IAAI,CAACC,IAAI,EACtBJ,KAAK,CAACE,MAAM,CAAC;MAEf,MAAMG,QAAQ,GAAmC,IAAIC,WAAW,CAC9DnB,OAAA,CAAAG,uBAAuB,EACvB;QAAEY,MAAM,EAAEf,OAAA,CAAAC;MAAmB,CAAE,CAC9B;MAEHQ,MAAM,CAACW,aAAa,CAACF,QAAQ,CAAC;MAC9BX,OAAO,CAACP,OAAA,CAAAC,mBAAmB,CAAC;IAE9B,CAAC,CACF;IAEDQ,MAAM,CAACW,aAAa,CAAC,IAAIC,KAAK,CAACtB,gBAAgB,CAACuB,sBAAsB,CAAC,CAAC;EAExE,CAAC,CAAC;EAAA;AA3BStB,OAAA,CAAAI,uBAAuB,GAAAA,uBAAA;AA8B7B,MAAMmB,uBAAuB,GAAIC,QAA+D,IAAI;EACzG,IAAI,OAAOf,MAAM,KAAK,WAAW,EAAE;IACjC,MAAM,IAAIC,KAAK,CAAC,+EAA+E,CAAC;;EAElGD,MAAM,CAACE,gBAAgB,CAACX,OAAA,CAAAG,uBAA8B,EAAEqB,QAAQ,CAAE;AACpE,CAAC;AALYxB,OAAA,CAAAuB,uBAAuB,GAAAA,uBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}