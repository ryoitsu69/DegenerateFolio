{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dropDuplicates = void 0;\n/**\n * Drops duplicate values in a stream.\n *\n * Marble diagram:\n *\n * ```text\n * -1-1-1-2-4-3-3-4--\n *   dropDuplicates\n * -1-----2-4-3------\n * ```\n *\n * Each value must be uniquely identified by a string given by\n * valueToKey(value).\n *\n * Internally this maintains a set of keys that have been processed already,\n * i.e. memory consumption and Set lookup times should be considered when\n * using this function.\n */\nfunction dropDuplicates(valueToKey) {\n  const operand = instream => {\n    const emittedKeys = new Set();\n    const deduplicatedStream = instream.filter(value => !emittedKeys.has(valueToKey(value))).debug(value => emittedKeys.add(valueToKey(value)));\n    return deduplicatedStream;\n  };\n  return operand;\n}\nexports.dropDuplicates = dropDuplicates;","map":{"version":3,"names":["dropDuplicates","valueToKey","operand","instream","emittedKeys","Set","deduplicatedStream","filter","value","has","debug","add","exports"],"sources":["../src/dropduplicates.ts"],"sourcesContent":[null],"mappings":";;;;;;AAQA;;;;;;;;;;;;;;;;;;AAkBA,SAAgBA,cAAcA,CAAIC,UAA4B;EAC5D,MAAMC,OAAO,GAA+BC,QAAmB,IAAe;IAC5E,MAAMC,WAAW,GAAG,IAAIC,GAAG,EAAU;IAErC,MAAMC,kBAAkB,GAAGH,QAAQ,CAChCI,MAAM,CAAEC,KAAK,IAAK,CAACJ,WAAW,CAACK,GAAG,CAACR,UAAU,CAACO,KAAK,CAAC,CAAC,CAAC,CACtDE,KAAK,CAAEF,KAAK,IAAKJ,WAAW,CAACO,GAAG,CAACV,UAAU,CAACO,KAAK,CAAC,CAAC,CAAC;IAEvD,OAAOF,kBAAkB;EAC3B,CAAC;EACD,OAAOJ,OAAO;AAChB;AAXAU,OAAA,CAAAZ,cAAA,GAAAA,cAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}