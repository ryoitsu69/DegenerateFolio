{"ast":null,"code":"import { catchError, distinctUntilChanged, publishReplay, refCount, tap } from 'rxjs';\nimport { stringify } from '@polkadot/util';\nimport { refCountDelay } from './refCountDelay.js';\nfunction CMP(a, b) {\n  return stringify({\n    t: a\n  }) === stringify({\n    t: b\n  });\n}\nfunction ERR(error) {\n  throw error;\n}\nfunction NOOP() {\n  // empty\n}\n/**\n * Shorthand for distinctUntilChanged(), publishReplay(1) and refCount().\n *\n * @ignore\n * @internal\n */\nexport function drr({\n  delay,\n  skipChange = false,\n  skipTimeout = false\n} = {}) {\n  return source$ => source$.pipe(catchError(ERR), skipChange ? tap(NOOP) : distinctUntilChanged(CMP),\n  // eslint-disable-next-line deprecation/deprecation\n  publishReplay(1), skipTimeout\n  // eslint-disable-next-line deprecation/deprecation\n  ? refCount() : refCountDelay(delay));\n}","map":{"version":3,"names":["catchError","distinctUntilChanged","publishReplay","refCount","tap","stringify","refCountDelay","CMP","a","b","t","ERR","error","NOOP","drr","delay","skipChange","skipTimeout","source$","pipe"],"sources":["/home/ryoitsu/Documents/test/react-todo-app/node_modules/@polkadot/rpc-core/util/drr.js"],"sourcesContent":["import { catchError, distinctUntilChanged, publishReplay, refCount, tap } from 'rxjs';\nimport { stringify } from '@polkadot/util';\nimport { refCountDelay } from './refCountDelay.js';\nfunction CMP(a, b) {\n    return stringify({ t: a }) === stringify({ t: b });\n}\nfunction ERR(error) {\n    throw error;\n}\nfunction NOOP() {\n    // empty\n}\n/**\n * Shorthand for distinctUntilChanged(), publishReplay(1) and refCount().\n *\n * @ignore\n * @internal\n */\nexport function drr({ delay, skipChange = false, skipTimeout = false } = {}) {\n    return (source$) => source$.pipe(catchError(ERR), skipChange\n        ? tap(NOOP)\n        : distinctUntilChanged(CMP), \n    // eslint-disable-next-line deprecation/deprecation\n    publishReplay(1), skipTimeout\n        // eslint-disable-next-line deprecation/deprecation\n        ? refCount()\n        : refCountDelay(delay));\n}\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,oBAAoB,EAAEC,aAAa,EAAEC,QAAQ,EAAEC,GAAG,QAAQ,MAAM;AACrF,SAASC,SAAS,QAAQ,gBAAgB;AAC1C,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SAASC,GAAGA,CAACC,CAAC,EAAEC,CAAC,EAAE;EACf,OAAOJ,SAAS,CAAC;IAAEK,CAAC,EAAEF;EAAE,CAAC,CAAC,KAAKH,SAAS,CAAC;IAAEK,CAAC,EAAED;EAAE,CAAC,CAAC;AACtD;AACA,SAASE,GAAGA,CAACC,KAAK,EAAE;EAChB,MAAMA,KAAK;AACf;AACA,SAASC,IAAIA,CAAA,EAAG;EACZ;AAAA;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,GAAGA,CAAC;EAAEC,KAAK;EAAEC,UAAU,GAAG,KAAK;EAAEC,WAAW,GAAG;AAAM,CAAC,GAAG,CAAC,CAAC,EAAE;EACzE,OAAQC,OAAO,IAAKA,OAAO,CAACC,IAAI,CAACnB,UAAU,CAACW,GAAG,CAAC,EAAEK,UAAU,GACtDZ,GAAG,CAACS,IAAI,CAAC,GACTZ,oBAAoB,CAACM,GAAG,CAAC;EAC/B;EACAL,aAAa,CAAC,CAAC,CAAC,EAAEe;EACd;EAAA,EACEd,QAAQ,CAAC,CAAC,GACVG,aAAa,CAACS,KAAK,CAAC,CAAC;AAC/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}